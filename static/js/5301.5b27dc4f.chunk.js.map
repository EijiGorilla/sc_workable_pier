{"version":3,"file":"static/js/5301.5b27dc4f.chunk.js","mappings":"qIAIA,MAAMA,EAAE,CAACC,oBAAmB,EAAGC,8BAA6B,EAAGC,sCAAqC,EAAGC,sCAAsC,CAACC,UAAS,EAAGC,UAAS,EAAGC,YAAW,GAAIC,kBAAiB,EAAGC,mBAAkB,EAAGC,kBAAiB,EAAGC,kBAAiB,EAAGC,gBAAe,EAAGC,4BAA2B,EAAGC,sBAAqB,EAAGC,iBAAgB,EAAGC,oBAAmB,EAAGC,sBAAqB,EAAGC,8BAA6B,EAAGC,uBAAsB,EAAGC,oBAAmB,EAAGC,uBAAsB,EAAGC,8BAA6B,EAAGC,iCAAgC,EAAGC,0BAAyB,EAAGC,0BAAyB,EAAGC,uBAAsB,EAAGC,wBAAuB,EAAGC,mBAAkB,EAAGC,qCAAoC,EAAGC,iCAAgC,EAAGC,wBAAuB,EAAGC,yBAAwB,EAAGC,0BAAqB,EAAOC,oBAAe,EAAOC,4BAAuB,EAAOC,wBAAmB,E,6MCAzC,IAAIC,EAAE,KAAK,MAAMC,EAAE,0FAAkJ,SAASC,EAAEC,EAAExC,EAAEyC,EAAEC,GAAG,MAAMC,GAAEC,EAAAA,EAAAA,IAAEH,IAAGI,EAAAA,EAAAA,IAAEJ,GAAG,KAAKK,EAAEH,EAAEI,KAAKC,OAAOL,EAAEM,MAAM,GAAGN,EAAEM,MAAM,IAAIjD,EAAEkD,MAAM,IAAI,KAAK,OAAOV,EAAEW,KAAKX,IAAI,MAAMC,EAAE,IAAIW,EAAAA,EAAEZ,EAAEa,UAAU,OAAOC,EAAAA,EAAAA,IAAEtD,EAAEyC,EAAEA,GAAGD,EAAEa,SAASV,EAAlO,SAAWH,EAAExC,EAAEyC,GAAG,OAAOD,EAAED,EAAE,EAAEC,EAAED,GAAGvC,EAAEwC,EAAED,EAAEE,IAAID,EAAED,GAAGvC,GAAGwC,CAAC,CAA6Ke,CAAEd,EAAEK,GAAG,EAAEJ,EAAE,IAAID,EAAED,CAAC,GAAG,CAAC,SAASgB,EAAEhB,GAAa,IAAXC,EAACgB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,GAAGf,EAACe,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAACL,EAACG,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAACf,EAACa,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAE,MAAMd,EAAE,IAAIe,aAAaN,EAAEV,GAAGH,EAAEM,KAAKC,OAAMhD,EAAAA,EAAAA,IAAEyC,IAAI,IAAIE,EAAEkB,OAAOC,kBAAkBhB,EAAEe,OAAOE,kBAAkB,MAAMC,GAAEC,EAAAA,EAAAA,IAAEvB,GAAG,IAAI,MAAMW,SAASrD,EAAEkE,WAAWD,KAAKzB,EAAE,CAAC,MAAMD,EAAEC,EAAEY,EAAEV,GAAG1C,EAAEmE,EAAEpB,KAAKqB,IAAI,EAAE5B,EAAEC,GAAG4B,EAAEtB,KAAKqB,IAAI,EAAE1B,EAAED,GAAG6B,EAAEvB,KAAKwB,IAAI3B,EAAEF,EAAED,GAAG+B,EAAEzB,KAAKwB,IAAIjB,EAAEd,EAAEC,GAAGW,GAAGY,EAAEC,GAAG,IAAI,IAAIjE,EAAEqE,EAAErE,EAAEsE,EAAEtE,IAAI,IAAI,IAAI4C,EAAEuB,EAAEvB,EAAE4B,EAAE5B,IAAI,CAAC,MAAMoB,EAAEhE,EAAEsD,EAAEV,EAAEqB,GAAEQ,EAAAA,EAAAA,IAAE7B,EAAEJ,EAAExC,EAAE0C,EAAED,GAAGW,EAAEe,EAAEtB,EAAEmB,IAAIC,EAAEtB,EAAEI,KAAKwB,IAAI5B,EAAEwB,GAAGrB,EAAEC,KAAKqB,IAAItB,EAAEqB,EAAE,CAAC,CAAC,MAAM,CAACI,IAAI5B,EAAEyB,IAAItB,EAAE,CAAC,SAAS4B,EAAElC,GAAG,MAAMxC,EAAEsC,EAAEqC,KAAKnC,GAAG,IAAIxC,EAAE,OAAO,KAAK,MAAM4E,GAAGlC,EAAEmC,GAAGvB,EAAEwB,GAAGlC,EAAEmC,GAAGlC,GAAG7C,EAAEgF,OAAO,OAAOnB,OAAOnB,GAAGD,EAAAA,GAAEwC,MAAMpB,OAAOP,GAAGb,EAAAA,GAAEyC,QAAQrB,OAAOjB,GAAGH,EAAAA,GAAE0C,QAAQtB,OAAOhB,GAAG,EAAE,CAACuC,eAAeC,EAAE7C,EAAExC,GAAO,IAALyC,IAACgB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GAAK,IAAIzD,EAAE,MAAM,GAAG,MAAMsF,MAAMhC,EAAEiC,OAAO3C,EAAE4C,OAAO3C,EAAE4C,eAAe3C,EAAE4C,WAAW1B,EAAE2B,SAASlB,GAAGjC,EAAEyB,EAAEX,GAAGU,GAAG4B,MAAMpD,GAAGA,EAAEqD,KAAKC,gBAAgBxC,EAAEwC,gBAAgB1C,IAAIa,IAAGtB,EAAAA,EAAAA,IAAEsB,GAAG3B,IAAI2B,IAAGE,EAAAA,EAAAA,IAAEF,GAAGV,EAAEf,EAAEuD,gBAAgBxD,EAAEC,EAAEwD,kBAAkBxC,EAAEhB,EAAEyD,mBAAmBZ,EAAE7C,EAAE0D,mBAAmBC,EAAE,GAAGC,EAAE5D,EAAE6D,eAAe,IAAIC,EAAE,KAAKC,EAAE,KAAK,GAAGhD,EAAE,CAAC,IAAIlB,EAAE,CAAC,MAAMmE,YAAYhE,SAASgC,EAAAA,EAAAA,MAAInC,EAAEG,CAAC,CAACH,EAAEoE,sBAAsBlD,UAAUlB,EAAEqE,2BAA2BJ,EAAEjE,EAAEsE,eAAepD,GAAGgD,EAAEH,EAAE/D,EAAEuE,YAAY,CAACC,YAAYT,EAAES,YAAY3D,MAAMkD,EAAElD,MAAM4D,iBAAiB,IAAIpE,EAAAA,EAAE0D,EAAEU,oBAAoB,IAAI,CAAC,MAAMC,EAAEvE,EAAEkD,WAAWsB,EAAIhH,EAAE,IAAI,kBAAkBA,EAAE,IAAI,iBAAiBA,EAAE,GAAGiH,gBAAgBF,EAAa,KAAX,CAACG,OAAOH,GAAQ,OAAO/G,EAAEmH,SAAS3E,IAAI,MAAMxC,EAAEwC,EAAE0B,WAAW,IAAIxB,EAAE,GAAGa,EAAE,CAAC,MAAMvD,EAAEgH,EAAE,IAAIxE,EAAE4E,MAAMJ,GAAGxE,EAAEC,EAAEJ,EAAEgF,kBAAkBrH,EAAEuG,EAAE9B,GAAG/B,EAAEL,EAAEiF,gBAAgBhB,EAAE7D,EAAE,MAAMzC,IAAI0C,EAAE1C,EAAEsD,GAAGV,GAAGF,EAAE,IAAG2B,EAAAA,EAAAA,IAAE3B,KAAKI,KAAIuB,EAAAA,EAAAA,IAAErE,EAAE4C,MAAMC,IAAIH,EAAE,GAAGA,IAAII,KAAIuB,EAAAA,EAAAA,IAAErE,EAAE6C,QAAQ,iBAAiBH,GAAGD,IAAIH,EAAEI,EAAEA,EAAE,IAAI6E,KAAK7E,GAAG8E,UAAU,KAAKpE,IAAIV,EAAEA,EAAEgC,EAAEhC,GAAG,QAAQ,GAAGH,GAAG,iBAAiBG,GAAG+E,SAAS/E,GAAG,CAAC,MAAMF,EAAExC,GAAG0H,WAAW1H,EAAEwD,IAAId,GAAE4B,EAAAA,EAAAA,IAAE5B,EAAEH,EAAEC,EAAE6C,EAAE,CAACc,EAAEwB,KAAKjF,EAAE,IAAIyD,CAAC,C,+OCAlqF,MAAMtD,EAAE,ICArF,MAAQ+E,WAAAA,CAAYpF,EAAEE,GAAGmF,KAAKC,OAAO,IAAI9H,EAAAA,EAAEwC,GAAGqF,KAAKE,cAAc,IAAI/H,EAAAA,EAAE0C,EAAE,CAACsF,GAAAA,CAAIhI,EAAE0C,GAAG,MAAME,EAAE,GAAGF,EAAEuF,OAAOjI,IAAIiE,EAAE4D,KAAKC,OAAOE,IAAIpF,GAAG,GAAGqB,EAAE,OAAOA,EAAE,GAAG,MAAM4D,KAAKE,cAAcC,IAAIpF,GAAG,OAAO,KAAK,IAAI,MAAMqB,EAAEzB,EAAAA,YAAE0F,OAAOlI,EAAE,CAACmI,YAAYzF,IAAI,OAAOmF,KAAKC,OAAOM,IAAIxF,EAAEqB,GAAGA,CAAC,CAAC,MAAMxB,GAAG,OAAOoF,KAAKE,cAAcK,IAAIxF,EAAEH,GAAG,IAAI,CAAC,CAAC4F,QAAAA,CAASrI,EAAEwC,GAAG,MAAME,EAAE,GAAGF,EAAEyF,OAAOjI,IAAI,OAAO6H,KAAKE,cAAcC,IAAItF,IAAI,IAAI,GDAtS,GAAG,KAAK1C,EAAE,oBAAoByC,EAAE,OAAOa,EAAE,IAAIgF,IAAI,CAAC,mBAAmB,4BAA4B,0BAA0B,uBAAuB,sBAAsB,sBAAsB,sBAAsBxF,EAAE,IAAIwF,IAAI,CAAC,oBAAoB,wBAAwB,wBAAwB,iCAAiC3F,EAAE,IAAI2F,IAAI,CAAC,sBAAsB,oBAAoB,2BAA2BhF,KAAKR,IAAI,SAASwB,EAAE1B,EAAEF,GAAO,IAALD,EAACgB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,CAAC,EAAG,MAAMH,EAAEW,EAAEvB,EAAEE,GAAG,IAAIU,EAAE,CAAC,MAAMb,EAAEI,EAAEwF,SAAS3F,EAAEE,GAAG,MAAM,IAAIJ,EAAAA,EAAExC,EAAE,yBAAyB,CAACuI,WAAW7F,EAAE8F,MAAM/F,GAAG,CAAC,MAAMK,EAAEL,EAAEgG,gBAAgB,aAAa,GAAGhG,EAAEiG,uBAAuBpF,EAAEqF,eAAe,MAAM,IAAInG,EAAAA,EAAExC,EAAE,GAAG8C,oBAAoB,CAACyF,WAAW7F,IAAI,GAAGD,EAAEmG,oBAAoBtF,EAAEuF,YAAY,MAAM,IAAIrG,EAAAA,EAAExC,EAAE,GAAG8C,gDAAgD,CAACyF,WAAW7F,IAAI,OAAOY,EAAEwF,UAAU,CAAyJ,SAASrE,EAAE7B,EAAEF,EAAEG,EAAEJ,EAAEa,GAAG,IAAIT,EAAE,OAAM,EAAG,MAAMC,EAAE,gBAAgBH,EAAE2B,EAAE1B,EAAEC,EAAE,CAAC+F,mBAAkB,EAAGH,eAAe3F,IAAIR,EAAEM,EAAEF,EAAEC,EAAE,CAAC8F,eAAe3F,EAAEiG,MAAMzF,IAAI,MAAMe,EAAEJ,EAAEpB,EAAED,GAAG6B,EAAEJ,GAAG2E,iBAAiBC,OAAOzG,IAAI,MAAM0G,cAAcxG,EAAE4C,MAAMzC,GAAGL,EAAExC,EAAE4C,EAAEoF,IAAInF,IAAIgD,KAAK,OAAOpD,EAAE0G,MAAM3G,IAAI,MAAM4G,iBAAiBvG,EAAEwG,cAAc5G,GAAGD,EAAEc,EAAEV,EAAEoF,IAAInF,IAAIgD,KAAK,OAAOvC,IAAItD,GAAGyC,EAAEqD,cAAcwD,SAAS5G,CAAC,GAAG,IAAI,IAAI+B,EAAE,MAAM,IAAIjC,EAAAA,EAAExC,EAAE,kEAAkE,CAACuJ,OAAO1G,IAAI,OAAM,CAAE,CAAC,SAASoB,EAAEzB,EAAEI,GAAG,OAAOJ,EAAEK,EAAEmF,IAAIxF,EAAEI,GAAG,IAAI,CAAC,SAASoB,EAAExB,GAAG,MAAM,YAAYgH,KAAKhH,GAAGA,EAAEA,EAAEiH,MAAMhH,GAAG,EAAE,CAAC,SAASW,EAAEZ,GAAG,OAAOA,EAAEiH,MAAMhH,GAAG,EAAE,CAAC,SAASH,EAAEM,EAAEF,EAAEG,GAAO,IAALJ,EAACgB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,CAAC,EAAG,MAAMH,EAAE,IAAIoG,IAAI,GAA4L,SAAWlH,EAAEI,EAAEF,EAAEG,EAAE7C,GAAG,MAAMyC,EAAEzC,EAAE2J,SAAS,KAAK,IAAIjH,KAAK1C,EAAE4J,QAAQpH,GAAG,MAAMA,KAAKxC,EAAE,IAAI,MAAM8C,KAAKL,EAAG,GAAGG,EAAEoF,IAAIlF,GAAG+G,EAAErH,EAAEI,EAAEF,EAAEG,EAAEC,QAAQ,IAAI,MAAM9C,EAAEsE,EAAE1B,EAAEoB,EAAElB,GAAG,CAAC4F,sBAAqB,IAAK,IAAI,MAAMjG,KAAKzC,EAAE6J,EAAErH,EAAEI,EAAEF,EAAEG,EAAEJ,EAAE,CAAC,MAAMa,GAAGd,EAAEsH,IAAIhH,EAAE,CAACiH,KAAK,mBAAmBxB,WAAWzF,EAAE0F,MAAMlF,GAAG,CAAE,CAA1ca,CAAEb,EAAEV,EAAEF,EAAED,EAAEuH,mBAAmBrH,EAAEE,GAAGS,EAAE2G,KAAK,CAAC,MAAMrH,EAAEH,EAAEgG,gBAAgB,aAAa,MAAM,IAAIjG,EAAAA,EAAExC,EAAE,GAAG4C,uCAAuC,CAACsH,OAAOC,MAAMC,KAAK9G,EAAE+G,UAAUtB,MAAMtG,EAAEsG,OAAO,CAAC,CAAmR,SAASc,EAAErH,EAAEI,EAAEC,EAAE7C,EAAEyC,GAAG,MAAMa,EAAEV,EAAEoF,IAAIvF,GAAGa,EAAET,EAAEyH,IAAIhH,EAAEuC,MAAM,QAAQ7F,IAAG,IAAKA,GAAGsK,IAAIhH,EAAEyG,OAAOvH,EAAEsH,IAAIrH,EAAE,CAACsH,KAAK,eAAeQ,UAAUjH,EAAEuC,KAAK2E,UAAU9H,EAAAA,EAAE+H,SAASnH,EAAEyG,MAAMC,kBAAkBG,MAAMC,KAAKpK,GAAGwC,GAAGE,EAAAA,EAAE+H,SAASjI,OAAOA,EAAEsH,IAAIrH,EAAE,CAACsH,KAAK,gBAAgBQ,UAAUjH,EAAEuC,OAAOrD,EAAEsH,IAAIrH,EAAE,CAACsH,KAAK,gBAAgBQ,UAAU9H,GAAG,C,0BEAhgF,MAAMzC,EAAE4H,WAAAA,GAAcC,KAAK6C,SAAS,IAAIhB,IAAI7B,KAAK8C,eAAnD,EAAoE9C,KAAK+C,OAAO,KAAK,GAAG/C,KAAKgD,YAAO,GAAQhD,KAAK6C,SAAS,OAAO,MAAMlI,EAAE,IAAIqF,KAAK8C,eAAe3K,EAAE8K,YAAYC,MAAMvI,EAAE,IAAI,MAAMK,EAAEH,KAAKmF,KAAK6C,SAAS,CAAC,KAAKhI,EAAEsI,KAAKhL,GAAG,YAAY6H,KAAK6C,SAAST,KAAK,IAAIpC,KAAKgD,OAAOI,WAAWpD,KAAK+C,OAAOpI,KAAKqF,KAAK6C,SAASQ,OAAOrI,EAAE,EAAE,CAACsI,OAAAA,GAAUtD,KAAK6C,UAAUU,QAAQvD,KAAK6C,SAAS,KAAKW,aAAaxD,KAAKgD,OAAO,CAAC,QAAIZ,GAAO,OAAOpC,KAAK6C,UAAUT,MAAM,CAAC,CAAC7B,GAAAA,CAAI5F,EAAExC,GAAG6H,KAAK6C,UAAUZ,IAAItH,EAAE,IAAIE,EAAE1C,IAAI6H,KAAKyD,gBAAgB,CAACtD,GAAAA,CAAIxF,GAAG,IAAIqF,KAAK6C,SAAS,OAAO,MAAM1K,EAAE6H,KAAK6C,UAAU1C,IAAIxF,GAAG,OAAOxC,GAAG6H,KAAK6C,UAAUQ,OAAO1I,GAAGxC,EAAEgL,KAAKF,YAAYC,MAAMlD,KAAK6C,UAAUZ,IAAItH,EAAExC,GAAGA,EAAEuL,YAAO,CAAM,CAACH,KAAAA,GAAQvD,KAAK6C,UAAUU,OAAO,CAACE,cAAAA,GAAiBzD,KAAK6C,WAAW7C,KAAKgD,SAASI,WAAWpD,KAAK+C,OAAO,IAAI/C,KAAK8C,gBAAgB,EAAE,IAAI9H,EAAE,EAAE,MAAMH,EAAEkF,WAAAA,CAAYpF,GAAGqF,KAAK0D,MAAM/I,EAAEqF,KAAKmD,KAAKF,YAAYC,MAAMlD,KAAK2D,GAAG3I,GAAG,E,yFCAxX,MAAMoB,EAAE2D,WAAAA,CAAY/E,EAAEC,EAAEH,GAAGkF,KAAK4D,gBAAgB,IAAI/B,IAAI7B,KAAK6D,mBAAmB,IAAIhC,IAAI7B,KAAK8D,qBAAqB9I,EAAE8I,uBAAsB,EAAG9D,KAAKM,YAAYxF,EAAEkF,KAAK+D,eAAe9I,EAAE,MAAMJ,EAAEG,EAAEgJ,UAAU,GAAGnJ,IAAIA,EAAEiH,SAAS,KAAK,CAAC9B,KAAKgE,UAAUnJ,EAAE,IAAIG,EAAE,EAAE,IAAI,MAAMC,KAAKJ,EAAE,CAAC,MAAMA,EAAE1C,EAAE8C,GAAGL,EAAEoF,KAAKM,YAAYH,IAAItF,GAAGsB,EAAEvB,EAAE,KAAKD,EAAEE,EAAEC,GAAGW,EAAEb,EAAEA,EAAEoD,KAAKjD,EAAEE,IAAI,aAAaD,IAAIgF,KAAK4D,gBAAgB3B,IAAIhH,EAAE,CAACgJ,MAAMxI,EAAEyI,OAAO/H,GAAG,CAAC,CAAC,CAACgI,mBAAAA,CAAoBhM,GAAG,OAAO6H,KAAK8D,sBAAsB3L,EAAEmH,SAASnH,GAAG6H,KAAKoE,cAAcjM,KAAK6H,KAAK6D,mBAAmBzB,MAAMjK,EAAE0D,MAAM,CAACuI,aAAAA,CAAcjM,GAAG,MAAMwC,EAAEqF,KAAKqE,+BAA+BlM,GAAG,OAAO6H,KAAKsE,oCAAoC3J,EAAE,CAAC4J,aAAAA,CAAcpM,EAAE4C,EAAEC,GAAG,MAAMC,EAAED,EAAEA,EAAEgD,KAAKjD,EAAE,IAAID,EAAE,KAAK,OAAOkF,KAAK4D,gBAAgBnB,IAAIxH,GAAGH,EAAEkF,KAAK4D,gBAAgBzD,IAAIlF,IAAIiJ,OAAOlJ,IAAIF,EAAEH,EAAEI,EAAEiF,KAAKM,aAAaN,KAAK4D,gBAAgB3B,IAAIhH,EAAE,CAACgJ,MAAMhJ,EAAEiJ,OAAOpJ,KAAKE,EAAEgF,KAAK+D,eAAeS,aAAarM,EAAE8C,GAAGH,GAAG2J,eAAetM,EAAE6H,KAAK+D,eAAe,CAACW,aAAAA,CAAcvM,EAAEwC,GAAO,IAALI,IAACa,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GAAK,MAAMZ,EAAEL,EAAEwD,kBAAkB1B,EAAE9B,EAAE0D,mBAAmBjC,EAAE4D,KAAKM,YAAYH,IAAIxF,EAAE8C,OAAOd,GAAE1B,EAAAA,EAAAA,IAAEmB,KAAItB,EAAAA,EAAAA,IAAEsB,GAAGQ,GAAE/B,EAAAA,EAAAA,IAAEuB,GAAG,OAAOjE,EAAEmD,KAAKnD,IAAI,IAAI8C,EAAEN,EAAE8C,OAAOuC,KAAKuE,cAAcpM,EAAEwC,EAAE8C,MAAMuC,KAAKM,YAAYH,IAAIxF,EAAE8C,QAAQ,GAAG9C,EAAE+C,QAAQzC,EAAE,IAAGkB,EAAAA,EAAAA,IAAElB,KAAKN,EAAEiD,kBAAiBzB,EAAAA,EAAAA,IAAE6D,KAAKuE,cAAcpM,EAAEwC,EAAE+C,OAAOsC,KAAKM,YAAYH,IAAIxF,EAAE+C,YAAY/C,EAAEgD,SAAS1C,EAAE,GAAGA,IAAIN,EAAEiD,kBAAiBzB,EAAAA,EAAAA,IAAE6D,KAAKuE,cAAcpM,EAAEwC,EAAEgD,OAAOqC,KAAKM,YAAYH,IAAIxF,EAAEgD,cAAc,iBAAiB1C,GAAGF,IAAI4B,EAAE1B,EAAEA,EAAE,IAAIyE,KAAKzE,GAAG0E,UAAU,KAAK/C,IAAI3B,EAAEA,GAAEL,EAAAA,EAAAA,IAAEK,GAAG,OAAOD,GAAGgB,OAAO4D,SAAS3E,GAAG,CAAC,MAAMF,EAAE,UAAUC,GAAGL,EAAEyD,mBAAmB4B,KAAKuE,cAAcpM,EAAEwC,EAAEyD,mBAAmB4B,KAAKM,YAAYH,IAAIxF,EAAEyD,qBAAqB,KAAKnD,GAAEQ,EAAAA,EAAAA,IAAER,EAAED,EAAED,EAAE0B,EAAE,CAAC,OAAOxB,CAAC,GAAG,CAAC,yBAAM0J,CAAoBxM,EAAEwC,EAAEI,EAAEE,EAAEH,GAAG,MAAM6D,YAAY9D,SAAS4B,EAAAA,EAAAA,MAAI7B,EAAEC,EAAE+D,sBAAsBjE,GAAGC,SAASC,EAAEgE,2BAA2B,MAAM1C,EAAEtB,EAAEiE,eAAenE,GAAGc,EAAEZ,EAAEkE,YAAYhE,GAAGqB,EAAE,CAACiD,OAAOW,KAAKM,YAAYjB,QAAQ,OAAOlH,EAAEmD,KAAKnD,IAAI,MAAMwC,EAAE,CAAC0B,WAAW2D,KAAK+D,eAAeK,cAAcjM,GAAGoH,MAAMnD,EAAEZ,SAASZ,EAAE,KAAII,EAAAA,EAAAA,IAAEC,EAAE2J,aAAa3J,EAAE4J,KAAK5J,EAAE6J,KAAK9E,KAAK+D,eAAegB,YAAY5M,IAAI8G,iBAAiBlE,GAAGkE,kBAAkB,MAAMxC,EAAE5B,EAAE2E,kBAAkB7E,EAAEc,EAAEX,GAAG,OAAOD,EAAE4E,gBAAgBtD,EAAEM,EAAE,GAAG,CAACuI,YAAAA,CAAa7M,EAAE4C,GAAG,OAAOiF,KAAK4D,gBAAgBnB,IAAI1H,IAAIiF,KAAK4D,gBAAgB3B,IAAIlH,EAAE,CAACkJ,MAAMlJ,EAAEmJ,OAAOvJ,EAAEI,EAAEiF,KAAKM,eAAeN,KAAK4D,gBAAgBzD,IAAIpF,IAAImJ,QAAQe,YAAY9M,EAAE6H,KAAK+D,kBAAiB,CAAE,CAACmB,aAAAA,CAAc/M,EAAE4C,GAAG,OAAOiF,KAAK4D,gBAAgBnB,IAAI1H,IAAIiF,KAAK4D,gBAAgB3B,IAAIlH,EAAE,CAACkJ,MAAMlJ,EAAEmJ,OAAOvJ,EAAEI,EAAEiF,KAAKM,eAAeN,KAAK4D,gBAAgBzD,IAAIpF,IAAImJ,QAAQiB,QAAQhN,EAAE6H,KAAK+D,kBAAiB,CAAE,CAACM,8BAAAA,CAA+BlM,GAAG,MAAMwC,EAAEqF,KAAKgE,UAAU,IAAIrJ,GAAGkB,OAAO,OAAOmE,KAAK+D,eAAeK,cAAcjM,GAAG,MAAM4C,EAAE,CAAC,EAAE,IAAI,MAAMC,KAAKL,EAAE,CAAC,MAAMsJ,MAAMtJ,EAAEuJ,OAAOjJ,GAAG+E,KAAK4D,gBAAgBzD,IAAInF,GAAGD,EAAEJ,GAAGM,EAAEA,EAAEwJ,eAAetM,EAAE6H,KAAK+D,gBAAgB/D,KAAK+D,eAAeS,aAAarM,EAAEwC,EAAE,CAAC,OAAOI,CAAC,CAACuJ,mCAAAA,CAAoCnM,GAAG,GAAG,MAAMA,IAAI6H,KAAK8D,qBAAqB,OAAO3L,EAAE,MAAMwC,EAAEqF,KAAKgE,UAAUjJ,EAAE,GAAG,GAAGJ,EAAE,IAAI,MAAMG,KAAKH,EAAE,CAAC,MAAMsJ,MAAMtJ,GAAGqF,KAAK4D,gBAAgBzD,IAAIrF,GAAGC,EAAE+E,KAAK3H,EAAEwC,GAAG,MAAM,IAAI,MAAMG,KAAK3C,EAAE4C,EAAE+E,KAAK3H,EAAE2C,IAAI,MAAME,EAAE,IAAIL,GAAG,CAAC,MAAMyK,KAAK,QAAQrK,EAAEqK,KAAK,OAAO,IAAInK,EAAE+E,KAAK6D,mBAAmB1D,IAAInF,IAAI,EAAE,OAAOgF,KAAK6D,mBAAmB5B,IAAIjH,IAAIC,GAAGA,EAAE,EAAE,KAAK9C,CAAC,ECA1mH,SAASA,EAAEA,EAAEwC,EAAEE,GAAG,MAAM,CAACwK,SAASlN,EAAEmN,OAAO3K,EAAE4K,SAAS1K,EAAEqH,KAAK,SAAS,CAAC,SAASvH,EAAExC,EAAEwC,EAAEE,EAAED,EAAE6B,GAAQ,MAAM,CAAC4I,SAASlN,EAAEmN,OAAO3K,EAAE4K,SAAS1K,EAAEqH,KAAK,OAAOsD,MAAM5K,EAAE6K,IAAIhJ,EAAEiJ,OAArE9J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAA8E,CCAu+B,MAAM+J,EAAE5F,WAAAA,CAAYpF,EAAExC,EAAE6C,GAAGgF,KAAK0D,MAAM/I,EAAEqF,KAAKkB,MAAM/I,EAAE6H,KAAK4E,aAAa5J,EAAE4J,aAAa5E,KAAK8E,KAAK9J,EAAE8J,KAAK9E,KAAK6E,KAAK7J,EAAE6J,KAAK7E,KAAKM,YAAYtF,EAAEsF,YAAYN,KAAK4F,cAAc5K,EAAE4K,cAAc5F,KAAKf,iBAAiBjE,EAAEiE,iBAAiBe,KAAK+D,eAAe/I,EAAE+I,cAAc,CAAC,QAAI3B,GAAO,OAAOpC,KAAK0D,MAAM7H,MAAM,CAACgK,2BAAAA,GAA8B,MAAMlL,EAAE,IAAIG,EAAEkF,KAAKkB,MAAMlB,KAAK+D,eAAe/D,KAAKM,aAAa,IAAIN,KAAKkB,MAAM4E,cAAc,OAAOnL,EAAEwJ,oBAAoBnE,KAAK0D,OAAO,MAAMqC,2BAA2B5N,EAAEuJ,OAAO1G,EAAE8K,cAAc/K,GAAGiF,KAAKkB,MAAMjG,EAAE9C,GAAG0D,OAAO,IAAMZ,EAAE,OAAO,EAAE,MAAMJ,EAAE,IAAIgH,IAAIjH,EAAE,IAAIiH,IAAIpG,EAAE,IAAIgF,IAAI,IAAI,MAAM3F,KAAKC,EAAE,CAAC,MAAMyG,cAAczG,GAAGD,EAAEG,EAAE,iBAAiBF,EAAED,EAAEyG,sBAAiB,EAAO,IAAI3G,EAAE6H,IAAIxH,GAAG,CAAC,MAAMD,EAAE,GAAG,IAAI,MAAMD,KAAK5C,EAAE,CAAC,MAAMA,EAAE6H,KAAKgG,oBAAoBrL,EAAEI,EAAEF,GAAGG,EAAE8E,KAAK3H,EAAE,CAACyC,EAAEqH,IAAIhH,EAAE+E,KAAKiG,uBAAuBjL,EAAEL,EAAEmJ,sBAAsB,CAAC,MAAM3H,EAAEvB,EAAEuF,IAAIlF,GAAG,IAAI,MAAM9C,KAAKgE,EAAE,CAAC,MAAM+J,KAAKnL,EAAE2I,MAAMzI,GAAGkB,EAAEhE,GAAG0C,EAAEE,EAAEqK,KAAK,KAAKpK,IAAIL,EAAEuK,cAAcjK,EAAED,IAAIS,EAAE0K,IAAItL,EAAE,CAAC,CAAC,OAAOY,EAAE2G,IAAI,CAAC,yBAAMgE,GAAsB,IAAIzL,EAAkQ,GAAnOA,EAA1BqF,KAAKkB,MAAM4E,cAAiB9F,KAAKkB,MAAM4E,cAAcxE,MAAM3G,GAAG,iBAAiBA,EAAE6G,gBAAgBxB,KAAKqG,iCAAiCrG,KAAKkB,aAAalB,KAAKsG,+BAA+BtG,KAAKkB,OAAclB,KAAKuG,4BAA4BvG,KAAKkB,OAAUlB,KAAKkB,MAAMsF,oBAAoB,CAAC,MAAMrO,EAAE6H,KAAKkB,MAAM1F,UAASZ,EAAAA,EAAAA,IAAEoF,KAAKkB,MAAMuF,UAAShL,EAAAA,EAAAA,IAAEtD,EAAE8G,iBAAiBe,KAAKkB,MAAMuF,OAAO9L,EAAE+L,eAAcvK,EAAAA,EAAAA,IAAE,CAAC8C,iBAAiBe,KAAKkB,MAAMuF,UAASnK,EAAAA,EAAAA,IAAEnE,EAAEA,EAAE8G,iBAAiBe,KAAKkB,MAAMuF,SAAS9L,EAAE+L,eAAcvK,EAAAA,EAAAA,IAAE,CAAC8C,iBAAiBe,KAAKkB,MAAMuF,SAAStO,GAAG,CAAC,OAAOwC,CAAC,CAACgM,sBAAAA,CAAuBhM,EAAExC,GAAG,MAAM6C,EAAEgF,KAAK+D,eAAehJ,EAAE6L,EAAE5G,KAAK6E,KAAK7E,KAAK8E,OAAO+B,MAAM5L,EAAE6L,KAAKjM,GAAGF,EAAEC,EAAE,iBAAiBD,EAAE4K,SAAS5K,EAAE4K,SAAS5K,EAAE4K,SAAS7K,EAAEe,EAAE,iBAAiBd,EAAE4K,SAAS5K,EAAE4K,SAAS5K,EAAE4K,SAAShK,EAAET,EAAE,CAACiM,WAAW,IAAI5K,EAAE,wBAAwB6D,KAAK4E,aAAaxI,EAAE4D,KAAKgH,iBAAiBnM,EAAEmF,KAAKf,iBAAiB9G,GAAGsE,EAAE,IAAIwK,EAAE,KAAK,GAAG3K,EAAE,IAAI2K,EAAE,KAAK,GAAGzK,EAAE,CAAC9B,EAAE,EAAEa,EAAE,EAAE2L,EAAE,GAAG,IAAI,MAAMtK,KAAKoD,KAAK0D,MAAM,CAAC,MAAMvL,EAAE6C,EAAE+J,YAAYnI,GAAG,GAAG,MAAMzE,EAAE,SAAS,MAAMgP,OAAOtM,EAAEuM,QAAQ7L,GAAGpD,EAAE,GAAGsE,EAAE0K,OAAOtM,EAAEyB,EAAE6K,OAAOtM,EAAEF,EAAE0M,WAAW,CAAC,IAAI1M,EAAE,EAAE,IAAI,IAAIxC,EAAE,EAAEA,EAAEoD,EAAEM,OAAO1D,IAAI,CAAC,MAAM0C,EAAEU,EAAEpD,GAAG,IAAI,IAAIA,EAAE,EAAEA,EAAE0C,EAAE1C,IAAIwC,GAAGI,EAAE,CAAC,MAAMoB,EAAEM,EAAE,GAAGN,EAAEmL,YAAY3M,EAAExC,IAAI0C,EAAE,EAAE,CAAC,MAAM1C,EAAEmE,EAAEnE,EAAEmP,YAAY3M,EAAEI,EAAE,MAAMF,EAAE2B,EAAE+B,EAAE/B,EAAEvB,EAAEkB,EAAEhE,GAAG,MAAMsE,GAAGxB,EAAEP,EAAEG,EAAEH,GAAGE,EAAEH,GAAGQ,EAAEM,EAAEV,EAAEU,GAAGE,EAAEF,EAAEkB,EAAEA,EAAEhC,EAAEA,EAAEc,GAAG,GAAGT,EAAEiM,WAAWjH,KAAKnD,EAAE3B,EAAEuM,YAAY3K,GAAGR,EAAEvB,GAAGK,KAAKsM,KAAKjM,GAAGa,EAAED,GAAGC,EAAEjE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,SAASwC,EAAE8M,WAAW,CAAC,MAAMtP,EAAEgE,EAAEtB,EAAEgB,OAAOd,EAAEF,EAAEgB,OAAO,GAAG,QAAQlB,EAAE8M,WAAW,IAAI,IAAI9M,EAAE,EAAEA,EAAExC,EAAEwC,GAAGI,EAAE,CAAC,MAAM5C,EAAEsE,EAAEtE,EAAEmP,YAAY3M,EAAE,MAAMI,GAAGE,EAAEP,EAAEvC,EAAEuC,GAAGE,EAAEC,GAAGI,EAAEM,EAAEpD,EAAEoD,GAAGE,EAAEU,EAAEpB,EAAEA,EAAEF,EAAEA,EAAEsB,GAAG,GAAGrB,EAAEiM,WAAWjH,KAAKrF,EAAEO,EAAEuM,YAAY3K,GAAGR,EAAEjE,GAAG+C,KAAKsM,KAAKrL,IAAI,MAAM,GAAG,SAASxB,EAAE8M,WAAW,CAAC,MAAM9M,EAAE,CAAC,GAAGwB,GAAGxB,EAAEmF,KAAKjF,EAAEgB,OAAOd,GAAG,IAAI,MAAM5C,KAAKwC,EAAE,CAAC,MAAMA,EAAE8B,EAAE9B,EAAE2M,YAAYnP,EAAE,MAAM4C,GAAGE,EAAEP,EAAEC,EAAED,GAAGE,EAAEC,GAAGI,EAAEM,EAAEZ,EAAEY,GAAGE,EAAEU,EAAEpB,EAAEA,EAAEF,EAAEA,EAAEsB,GAAG,GAAGrB,EAAEiM,WAAWjH,KAAKrF,EAAEO,EAAEuM,YAAY3K,GAAGR,EAAEzB,GAAGO,KAAKsM,KAAKrL,IAAI,CAAC,CAAC,CAAC,CAAC,OAAOrB,EAAEiM,WAAWW,MAAM,CAAC/M,EAAExC,IAAIwC,EAAE4K,SAASpN,EAAEoN,WAAWzK,CAAC,CAACkM,gBAAAA,CAAiBrM,EAAExC,EAAE6C,GAAG,MAAMD,EAAE,MAAMC,IAAGS,EAAAA,EAAAA,IAAEtD,EAAE6C,GAAGL,GAAGA,EAAEA,IAAG2B,EAAAA,EAAAA,IAAE3B,EAAExC,EAAE6C,IAAI6J,KAAK5J,GAAG+E,KAAS,MAAM,OAAOrF,EAAEM,EAAE0M,IAAA,IAAEjN,EAAEC,EAAEY,EAAEpD,EAAE+O,EAAElM,GAAE2M,EAAA,OAAG5M,EAAE,CAACL,EAAEC,EAAEY,EAAEpD,EAAE+O,EAAElM,GAAG,EAAC4M,IAAA,IAAElN,EAAEC,EAAEY,EAAEpD,GAAEyP,EAAA,OAAG7M,EAAE,CAACL,EAAEC,EAAEY,EAAEpD,EAAE+O,EAA7E,GAAkF,EAACW,IAAA,IAAEnN,EAAEC,EAAEY,EAAEpD,GAAE0P,EAAA,OAAG9M,EAAE,CAACL,EAAEC,EAAEY,EAAEpD,GAAG,EAAC,qCAAM2P,CAAgCnN,GAAG,MAAM8C,MAAMtF,EAAE+F,gBAAgBlD,EAAEoD,mBAAmBrD,EAAEoD,kBAAkBlD,EAAEoD,mBAAmBxD,EAAEkN,SAASnN,EAAEoN,SAASvM,EAAEJ,MAAMP,EAAEgD,SAAS3B,EAAE8L,kBAAkB7L,GAAGzB,EAAE8B,EAAEuD,KAAKM,YAAYH,IAAIhI,GAAGmE,GAAEE,EAAAA,EAAAA,IAAEC,KAAIG,EAAAA,EAAAA,IAAEH,KAAIlB,EAAAA,EAAAA,IAAEkB,GAAGE,QAAQqD,KAAKkI,eAAe,CAACzK,MAAMtF,EAAE+F,gBAAgBlD,EAAEoD,mBAAmBrD,EAAEoD,kBAAkBlD,EAAEoD,mBAAmBxD,EAAEQ,MAAMP,EAAEgD,SAAS3B,IAAI1B,GAAEuH,EAAAA,EAAAA,IAAE,CAAC7D,kBAAkBlD,EAAEmD,mBAAmBrD,EAAEgN,SAASnN,EAAEoN,SAASvM,IAAIoB,EAAE,CAACsL,MAAM,GAAGxF,UAAUlG,GAAGyF,MAAMkG,GAAE1N,EAAAA,EAAAA,IAAE+B,IAAG4L,EAAAA,EAAAA,IAAE,CAAC7F,OAAO7F,EAAE2L,kBAAkB7N,EAAE8N,iBAAiB1L,EAAEoL,kBAAkB7L,KAAIkC,EAAAA,EAAAA,IAAE,CAACkE,OAAO7F,EAAEoL,SAASnN,EAAEoN,SAASvM,EAAE+M,iBAAiBvN,EAAEqN,kBAAkB7N,EAAE8N,iBAAiB1L,EAAEoL,kBAAkB7L,IAAI,OAAOqM,EAAAA,EAAAA,IAAEL,EAAEhM,EAAEE,EAAE,CAAC,gCAAMoM,CAA2B/N,GAAG,MAAM8C,MAAMtF,EAAE+F,gBAAgBlD,EAAE2N,QAAQ5N,EAAE6N,qBAAqB3N,EAAEI,MAAMR,EAAEiD,SAASlD,GAAGD,EAAEc,QAAQuE,KAAKkI,eAAe,CAACzK,MAAMtF,EAAEuF,OAAO/C,EAAE+C,OAAOC,OAAOhD,EAAEgD,OAAOC,eAAejD,EAAEiD,eAAeM,gBAAgBlD,EAAEK,MAAMR,EAAEiD,SAASlD,IAAG,GAAIE,GAAEsN,EAAAA,EAAAA,IAAE3M,GAAG,OAAOiD,EAAAA,EAAAA,IAAE5D,EAAEC,EAAEE,EAAEN,EAAEiD,eAAe,CAAC,+BAAMiL,CAA0BlO,GAAG,MAAM8C,MAAMtF,EAAE+F,gBAAgBlD,EAAEoD,mBAAmBrD,EAAEoD,kBAAkBlD,EAAEoD,mBAAmBxD,EAAEiO,qBAAqBlO,EAAEmO,0BAA0BtN,EAAEsM,SAASjN,EAAEkN,SAAS7L,EAAE6M,WAAW5M,EAAEf,MAAMoB,EAAEqB,SAASxB,GAAG3B,EAAEgC,QAAQqD,KAAKkI,eAAe,CAACzK,MAAMtF,EAAE+F,gBAAgBlD,EAAEoD,mBAAmBrD,EAAEoD,kBAAkBlD,EAAEoD,mBAAmBxD,EAAEQ,MAAMoB,EAAEqB,SAASxB,IAAI7B,GAAE+C,EAAAA,EAAAA,IAAEb,EAAE,CAACc,MAAMtF,EAAEiG,mBAAmBrD,EAAEoD,kBAAkBlD,EAAEoD,mBAAmBxD,EAAEiO,qBAAqBlO,EAAEmO,0BAA0BtN,EAAEsM,SAASjN,EAAEkN,SAAS7L,EAAE6M,WAAW5M,IAAI,OAAO6M,EAAAA,EAAAA,IAAExO,EAAEG,EAAE,CAAC,6BAAMsO,CAAwBvO,GAAG,MAAM8C,MAAMtF,EAAE+F,gBAAgBlD,EAAEoD,mBAAmBrD,EAAEoD,kBAAkBlD,EAAEoD,mBAAmBxD,EAAEiO,qBAAqBlO,EAAEmO,0BAA0BtN,EAAEsM,SAASjN,EAAEkN,SAAS7L,EAAEgN,QAAQ/M,EAAEf,MAAMoB,EAAEqB,SAASxB,GAAG3B,EAAEgC,QAAQqD,KAAKkI,eAAe,CAACzK,MAAMtF,EAAE+F,gBAAgBlD,EAAEoD,mBAAmBrD,EAAEoD,kBAAkBlD,EAAEoD,mBAAmBxD,EAAEQ,MAAMoB,EAAEqB,SAASxB,IAAI,OAAO8M,EAAAA,EAAAA,IAAEzM,EAAE,CAACc,MAAMtF,EAAEiG,mBAAmBrD,EAAEoD,kBAAkBlD,EAAEoD,mBAAmBxD,EAAEiO,qBAAqBlO,EAAEmO,0BAA0BtN,EAAEsM,SAASjN,EAAEkN,SAAS7L,EAAEgN,QAAQ/M,GAAG,CAACiN,aAAAA,CAAc1O,EAAExC,EAAE6C,GAAG,GAAGL,EAAEkB,OAAO,GAAG1D,GAAG0D,OAAO,IAAI,MAAMd,KAAK5C,EAAEmR,UAAU,CAAC,MAAMnR,EAAE4C,EAAE6G,MAAM,KAAK3G,EAAE9C,EAAE,GAAG0C,EAAEmF,KAAKM,YAAYH,IAAIlF,GAAGL,IAAIzC,EAAE,IAAI,SAASA,EAAE,GAAG8F,cAAcxC,GAAEyL,EAAAA,EAAAA,IAAErM,GAAGqH,KAAKtH,GAAGD,EAAE+M,MAAM,CAAC/M,EAAExC,KAAK,MAAM4C,EAAEC,EAAEL,EAAEM,EAAEJ,GAAGD,EAAEI,EAAE7C,EAAE8C,EAAEJ,GAAG,OAAOY,EAAEV,EAAEH,EAAE,GAAG,CAAC,CAAC2L,2BAAAA,CAA4B5L,GAAG,MAAMxC,EAAE6H,KAAK0D,OAAOkB,aAAa5J,EAAE8J,KAAK/J,EAAE8J,KAAK5J,EAAE2K,cAAchL,EAAEqE,iBAAiBxD,GAAGuE,MAAMgE,UAAUlJ,EAAE2L,MAAMrK,EAAEmN,uBAAuB9M,EAAE+M,kBAAkBlN,EAAEmN,aAAa9M,EAAE+M,QAAQjP,EAAEkP,QAAQnN,GAAG7B,EAAEiC,EAAE,MAAMN,GAAGnE,EAAE0D,QAAQc,GAAG,GAAGL,EAAEf,EAAET,IAAIA,EAAEgH,SAAS,KAAK,IAAI9B,KAAKM,YAAYjB,QAAQvE,EAAEQ,KAAKX,GAAGqF,KAAKM,YAAYH,IAAIxF,MAAM,MAAM,CAACiP,sBAAsBhN,EAAEiN,SAAS7J,KAAK8J,gBAAgBnP,EAAExC,GAAGkH,OAAO9D,EAAEqJ,aAAa5J,EAAE8J,KAAK/J,GAAGyB,EAAEqI,KAAK5J,GAAGR,EAAEsP,kBAAkBnP,EAAEqE,kBAAiB9C,EAAAA,EAAAA,IAAEC,GAAGX,GAAGuO,UAAUvN,IAAG5B,EAAAA,EAAAA,IAAE4B,IAAI,KAAK,CAACqN,eAAAA,CAAgBnP,EAAExC,GAAG,MAAM6C,EAAE,IAAIF,EAAEH,EAAEqF,KAAK+D,eAAe/D,KAAKM,cAAcwE,KAAK/J,EAAE8J,KAAK5J,GAAG+E,MAAMiK,cAAcrP,EAAE2O,uBAAuB9N,EAAEyO,eAAe/N,EAAEgO,eAAe7N,EAAE8N,mBAAmBzN,EAAE8M,aAAahP,EAAE+O,kBAAkBhN,EAAEkN,QAAQ9M,GAAE,EAAG+M,QAAQpO,GAAE,GAAIZ,EAAED,EAAEO,GAAG2B,EAAEC,EAAE9B,GAAGQ,EAAE,IAAIyG,EAAE,GAAGqG,EAAE,EAAE,MAAM/J,EAAE,IAAInG,GAAG,GAAG6H,KAAKqJ,cAAc/K,EAAE1D,GAAG,CAACD,EAAExC,EAAE4C,IAAIC,EAAEuJ,cAAc5J,EAAExC,EAAE4C,KAAKiF,KAAK4E,eAAezI,GAAGG,GAAG,CAAC,MAAM3B,GAAEE,EAAAA,EAAAA,IAAEY,SAAI,EAAOtD,EAAE,wBAAwB6H,KAAK4E,cAAc,yBAAyB5E,KAAK4E,aAAa,GAAGzI,IAAIG,EAAE,IAAI,MAAMvB,KAAKuD,EAAE,CAAC,MAAMrD,EAAE+E,KAAK+D,eAAegB,YAAYhK,GAAGF,EAAE,CAACwB,WAAWrB,EAAEoJ,cAAcrJ,GAAGS,UAASY,EAAAA,EAAAA,IAAE4D,KAAK4E,aAAa5E,KAAK6E,KAAK7E,KAAK8E,KAAK7J,EAAE0B,EAAEhC,EAAED,EAAEmC,IAAI1E,GAAG8C,IAAIJ,EAAEW,WAAWX,EAAEpC,UAASgE,EAAAA,EAAAA,IAAEuD,KAAKA,KAAK+D,eAAesG,YAAYtP,EAAEiF,MAAMrF,IAAIqH,EAAEqG,KAAKxN,CAAC,MAAM,IAAIsB,GAAGG,EAAE,IAAI,MAAMvB,KAAKuD,EAAE0D,EAAEqG,KAAK,CAAChM,WAAWrB,EAAEoJ,cAAcrJ,GAAGtC,UAASgE,EAAAA,EAAAA,IAAEuD,KAAKA,KAAK+D,eAAesG,YAAYtP,EAAEiF,MAAMrF,SAAS,IAAI,MAAMI,KAAKuD,EAAE0D,EAAEqG,KAAK,CAAChM,WAAWrB,EAAEoJ,cAAcrJ,GAAGtC,UAASgE,EAAAA,EAAAA,IAAEuD,KAAKA,KAAK+D,eAAesG,YAAYtP,EAAEiF,MAAMrF,GAAGa,UAASY,EAAAA,EAAAA,IAAE4D,KAAK4E,aAAa5E,KAAK6E,KAAK7E,KAAK8E,KAAK9E,KAAK+D,eAAegB,YAAYhK,GAAG4B,EAAEhC,EAAED,EAAEmC,GAAG,MAAM,IAAI,MAAMhC,KAAKyD,EAAE,CAAC,MAAM3D,EAAEK,EAAEoJ,cAAcvJ,GAAGF,IAAIqH,EAAEqG,KAAK,CAAChM,WAAW1B,GAAG,CAAC,MAAM8N,EAAEhO,GAAG,EAAE,GAAG,MAAM+B,EAAE,CAAC,MAAM7B,EAAE8N,EAAEjM,EAAEwF,EAAEA,EAAEsI,MAAM7B,EAAEvN,KAAKwB,IAAIsF,EAAEnG,OAAOlB,GAAG,CAAC,OAAOqH,CAAC,CAACqE,gCAAAA,CAAiC1L,GAAG,IAAIxC,GAAE,EAAG6C,EAAEgB,OAAOC,kBAAkBlB,EAAEiB,OAAOC,kBAAkBhB,EAAEe,OAAOC,kBAAkB,IAAI,MAAMpB,KAAKF,EAAEmL,eAAe,GAAG,GAAG,iBAAiBjL,EAAE2G,cAAc,CAACxG,EAAE,MAAMH,EAAE0P,cAAc1P,EAAE0P,cAAcvO,OAAOC,kBAAkBlB,EAAE,MAAMF,EAAER,eAAeQ,EAAER,eAAe2B,OAAOC,kBAAkBhB,EAAE,MAAMJ,EAAE2P,eAAe3P,EAAE2P,eAAexO,OAAOC,kBAAkB,KAAK,CAAC,GAAG,sBAAsB+D,KAAK4E,aAAazM,EAAE6H,KAAK0D,MAAM7H,OAAOb,OAAO,GAAGgF,KAAK0D,MAAM7H,OAAOd,EAAE5C,GAAE,MAAO,CAAC,MAAMwC,EAAEiM,EAAE5G,KAAK6E,KAAK7E,KAAK8E,MAAM9J,EAAEgF,KAAK+D,eAAe5L,EAAE6H,KAAK0D,MAAM+G,QAAQ,CAAC9P,EAAExC,KAAK,MAAM4C,EAAEC,EAAE+J,YAAY5M,GAAG,OAAOwC,GAAG,MAAMI,GAAGA,EAAEoM,OAAOtL,QAAQ,EAAE,GAAG,GAAGlB,EAAEM,CAAC,CAAC,MAAM,CAACoE,OAAO,CAAC,CAACrB,KAAK,eAAekE,KAAK,uBAAuB+B,MAAM,eAAeyG,QAAQ,iBAAiBC,OAAO,KAAKC,aAAa,OAAOf,SAAS,CAAC,CAACxN,WAAW,CAACwO,aAAa7O,OAAO7D,MAAM,CAAC,oCAAMmO,CAA+B3L,GAAG,MAAMxC,EAAE,CAACkE,WAAW,CAAC,GAAGrB,EAAE,GAAGD,EAAE,IAAI8G,IAAI5G,EAAE,IAAI4G,IAAIhH,EAAE,IAAIgH,IAAIjH,EAAE,IAAIiH,IAAIpG,EAAE,IAAIX,EAAEH,EAAEqF,KAAK+D,eAAe/D,KAAKM,aAAanE,EAAExB,EAAEmL,eAAeC,2BAA2B3J,EAAEsF,OAAOjF,EAAEwN,cAAc3N,EAAEkN,kBAAkB7M,GAAGhC,EAAEF,EAAE2B,GAAGP,OAAOW,IAAI/B,EAAEmC,EAAEJ,EAAEJ,EAAE,GAAG,KAAKb,EAAEiB,IAAIwD,KAAKM,YAAYH,IAAIvD,GAAG,IAAI,MAAM9B,KAAKqB,GAAG,GAAG,CAAC,MAAM2O,sBAAsBnQ,EAAE6G,cAAcrF,GAAGrB,EAAEwB,EAAExB,EAAE6B,EAAE,iBAAiBR,EAAErB,EAAEyG,sBAAiB,EAAO1E,EAAE,oBAAoBV,GAAG,oBAAoBA,EAAE6F,EAAE,sBAAsB7F,GAAG,sBAAsBA,GAAG,wBAAwBA,EAAEkM,EAAE7L,GAAG,IAAI/B,IAAIkC,IAAIC,GAAGrB,IAAI,UAAUY,EAAE,GAAGK,EAAE,CAAC,IAAI3B,EAAE4H,IAAI9F,GAAG,CAAC,MAAMhC,EAAE,GAAG,IAAI,MAAMxC,KAAKiE,EAAE,CAAC,MAAMpB,EAAEgF,KAAKgG,oBAAoBvK,EAAEtD,EAAE4C,GAAGJ,EAAEmF,KAAK9E,EAAE,CAACH,EAAEoH,IAAItF,EAAEqD,KAAKiG,uBAAuBtL,GAAGqH,GAAGvG,EAAEqI,sBAAsB,CAAC,MAAM3L,EAAE0C,EAAEsF,IAAIxD,GAAG,IAAIxE,EAAE,SAAS,MAAM6C,EAAE+P,OAAOC,KAAK7S,GAAG,IAAI,MAAM8C,KAAKD,EAAE,CAAC,MAAMiQ,MAAMjQ,EAAEkL,KAAKrL,EAAE6I,MAAM5I,EAAEoQ,cAAc/O,GAAGhE,EAAE8C,GAAGR,EAAEI,EAAEuK,KAAK,KAAK,IAAI3I,GAAGhB,EAAEyJ,cAAcpK,EAAE2B,GAAG,CAAC,MAAMtE,EAAEyC,EAAEuF,IAAI1F,IAAI,CAAC4B,WAAW,CAAC,GAAG,GAAG2F,EAAE,CAAC7J,EAAEgT,sBAAsBhT,EAAEgT,oBAAoB,CAAC,GAAG,MAAMA,oBAAoBxQ,EAAEmQ,sBAAsB9P,SAASgF,KAAKoL,sBAAsB9O,EAAExB,GAAG3C,EAAEgT,oBAAoBnQ,GAAGL,CAAC,KAAK,CAAC,IAAIM,EAAE,KAAK,GAAGoN,EAAEpN,EAAED,MAAM,CAAC,MAAML,EAAEqF,KAAKgG,oBAAoBvK,EAAEkB,EAAE5B,GAAG5C,EAAEgE,EAAEb,KAAKnD,GAAGwC,EAAExC,KAAK8C,EAAE4B,GAAG,wBAAwBP,EAAE0D,KAAKqL,oBAAoB/O,EAAEnE,GAAG6H,KAAKsL,mBAAmBhP,EAAEnE,EAAE,KAAKsD,EAAEqI,qBAAqB,CAAC3L,EAAEkE,WAAW1B,GAAGM,CAAC,CAAC,IAAIA,EAAE,EAAEmB,EAAEkD,SAAS,CAAC3E,EAAEK,IAAI7C,EAAEkE,WAAW2D,KAAKM,YAAYH,IAAIxF,GAAGA,EAAE,WAAWM,GAAGJ,EAAEG,KAAKJ,EAAEqH,IAAIxH,EAAEtC,EAAE,CAAC,CAAC,MAAM,GAAG6J,EAAE,CAAC7J,EAAEgT,sBAAsBhT,EAAEgT,oBAAoB,CAAC,GAAG,MAAMA,oBAAoBxQ,EAAEmQ,sBAAsB9P,SAASgF,KAAKoL,sBAAsB9O,EAAE0D,KAAK0D,OAAOvL,EAAEgT,oBAAoBnQ,GAAGL,CAAC,KAAK,CAAC,MAAMK,EAAEgF,KAAKgG,oBAAoBvK,EAAEkB,EAAE5B,GAAG5C,EAAEkE,WAAW1B,GAAGkC,GAAG,wBAAwBP,EAAE0D,KAAKqL,oBAAoB/O,EAAEtB,GAAGgF,KAAKsL,mBAAmBhP,EAAEtB,EAAEC,EAAEQ,EAAEqI,qBAAqB,CAAC,MAAMxF,EAAE,QAAQnC,GAAG,QAAQA,KAAIzB,EAAAA,EAAAA,IAAEsF,KAAKM,YAAYH,IAAIxD,MAAMqD,KAAKuL,gBAAgB5O,GAAG,KAAKqD,KAAKM,YAAYH,IAAIxD,IAAIuF,KAAKlH,EAAE8E,KAAK,CAAC9B,KAAKrD,EAAEsJ,MAAMtJ,EAAEuH,KAAK5D,GAAG,uBAAuB,CAAC,MAAMzB,EAAEL,EAAE8F,MAAMC,KAAK3H,EAAE4H,UAAU,CAACrK,GAAG,OAAO6H,KAAKqJ,cAAcxM,EAAEP,GAAG,CAAC3B,EAAExC,IAAIwC,EAAE0B,WAAWlE,KAAKwE,IAAIE,EAAEhB,OAAOX,KAAKwB,IAAIC,EAAEE,EAAEhB,SAAS,CAACwD,OAAOrE,EAAE6O,SAAShN,EAAE,CAAC0O,eAAAA,CAAgB5Q,GAAG,MAAMxC,EAAE6H,KAAKM,YAAYH,IAAIxF,GAAG,OAAO6B,EAAAA,EAAAA,IAAErE,KAAIyE,EAAAA,EAAAA,IAAEzE,KAAIoD,EAAAA,EAAAA,IAAEpD,KAAI0E,EAAAA,EAAAA,IAAE1E,EAAE,CAAC,2BAAMiT,CAAsBzQ,EAAEE,GAAG,MAAMnC,WAAWkC,EAAE4Q,MAAM/P,SAAS,wDAAmD+F,cAAc1G,EAAEgQ,sBAAsB3O,GAAGxB,GAAGoJ,eAAetH,EAAEwC,iBAAiB3C,EAAEsI,aAAajI,EAAEkI,KAAKpK,EAAEqK,KAAKtI,GAAGwD,KAAKpD,EAAE/B,EAAES,KAAKX,IAAGyB,EAAAA,EAAAA,IAAEO,EAAElC,EAAE+B,EAAEC,EAAEsI,YAAYpK,MAAMY,EAAEX,EAAE0B,EAAEM,GAAE,GAAI,GAAGlC,EAAE,CAACyQ,oBAAoB,KAAKL,sBAAsB,MAAM,GAAG,sBAAsBhQ,EAAE,CAAC,MAAMH,EAAEY,GAAER,EAAAA,EAAAA,GAAEQ,IAAGN,EAAAA,EAAAA,IAAEQ,EAAEa,EAAEM,IAAIlC,EAAEyQ,oBAAoB,IAAIxQ,EAAEsE,iBAAiB3C,GAAG5B,EAAEoQ,sBAAsB3O,GAAG,QAAQ,MAAM,GAAG,sBAAsBrB,EAAE,CAAC,MAAMH,EAAEY,GAAEpD,EAAAA,EAAAA,IAAEoD,IAAGP,EAAAA,EAAAA,KAAEC,EAAAA,EAAAA,IAAEQ,EAAEa,EAAEM,KAAKlC,EAAEyQ,oBAAoB,CAACzQ,EAAEC,EAAE,GAAGY,EAAEZ,EAAE,GAAGsE,iBAAiB3C,GAAG5B,EAAEoQ,sBAAsB3O,GAAG,UAAU,KAAK,wBAAwBrB,IAAIJ,EAAEyQ,oBAAoB5P,EAAEb,EAAEoQ,sBAAsB3O,GAAG,cAAc,OAAOzB,CAAC,CAAC4Q,kBAAAA,CAAmB3Q,EAAExC,EAAE6C,EAAED,GAAG,MAAMwG,iBAAiBtG,EAAEuG,cAAc3G,GAAGF,EAAE,IAAIC,EAAE,KAA0M,OAArMA,EAAEI,GAAGyH,IAAIxH,GAAGD,EAAEmF,IAAIlF,IAAGP,EAAAA,EAAAA,IAAEsF,KAAKM,YAAYH,IAAIlF,KAAK+E,KAAKuL,gBAAgBtQ,IAAGoN,EAAAA,EAAAA,IAAE,CAAC7F,OAAOrK,EAAEsT,eAAe1Q,KAAIuD,EAAAA,EAAAA,IAAE,CAACkE,OAAOzH,EAAE,IAAI,IAAI0F,IAAItI,IAAIA,EAAE4P,SAAS,KAAKC,SAAS,KAAKQ,iBAAgB,IAAKxN,GAAGA,EAAEiH,IAAIhH,EAAEL,GAAUA,EAAE,QAAQC,EAAE,WAAWA,EAAE,CAACwQ,mBAAAA,CAAoB1Q,EAAExC,GAAG,MAAMoJ,iBAAiBvG,EAAE0Q,oBAAoB3Q,EAAEyG,cAAcvG,GAAGN,GAAGwN,MAAMtN,EAAE8Q,QAAQ/Q,GAAGG,EAAEU,EAAEuE,KAAKM,YAAYH,IAAInF,GAAG,OAAOmE,EAAAA,EAAAA,IAAEhH,EAAE,CAACgQ,MAAMtN,EAAE8Q,QAAQ/Q,EAAE+H,UAAUlH,GAAGyG,KAAK0J,WAAW,oBAAoB3Q,GAAG,CAAC+K,mBAAAA,CAAoBrL,EAAExC,EAAE6C,GAAG,GAAGA,EAAEyH,IAAItK,GAAG,OAAO6C,EAAEmF,IAAIhI,GAAG,MAAM4C,EAAEiF,KAAKM,YAAYH,IAAIhI,GAAG8C,EAAE+E,KAAK0D,MAAMpI,KAAKN,GAAGL,EAAE4J,cAAcvJ,EAAE7C,EAAE4C,KAAK,OAAOC,EAAEiH,IAAI9J,EAAE8C,GAAGA,CAAC,CAACgL,sBAAAA,CAAuBtL,EAAExC,GAAG,MAAM6C,EAAE,CAAC,EAAED,EAAEiF,KAAK0D,MAAMzI,EAAEF,EAAEc,OAAO,IAAI,IAAIhB,EAAE,EAAEA,EAAEI,EAAEJ,IAAI,CAAC,MAAMI,EAAEF,EAAEF,GAAGD,EAAE,GAAG,IAAI,MAAMzC,KAAKwC,EAAEC,EAAEkF,KAAK3H,EAAE0C,IAAI,MAAMY,EAAEb,EAAEwK,KAAK,KAAK,MAAMpK,EAAES,GAAGT,EAAES,GAAG,CAACwP,MAAM,EAAE/E,KAAKtL,EAAE8I,MAAM,CAACzI,GAAGiQ,cAAc,CAACrQ,KAAK1C,GAAG6C,EAAES,GAAGwP,QAAQjQ,EAAES,GAAGiI,MAAM5D,KAAK7E,GAAGD,EAAES,GAAGyP,cAAcpL,KAAKjF,GAAG,CAAC,OAAOG,CAAC,CAAC,oBAAMkN,CAAe/P,GAAO,IAAL6C,IAACY,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GAAK,MAAMb,EAAE,IAAID,EAAEkF,KAAKkB,MAAMlB,KAAK+D,eAAe/D,KAAKM,cAAcpC,gBAAgBjD,EAAEI,MAAMR,EAAEiD,SAASlD,GAAGzC,EAAE,OAAO8C,EAAEF,EAAE4J,oBAAoB3E,KAAK0D,MAAMzI,EAAE,CAAC+D,YAAY,MAAM3D,MAAMR,EAAEoE,iBAAiBe,KAAKkB,MAAMuF,OAAOzG,KAAKf,kBAAkB,CAAC2F,aAAa5E,KAAK4E,aAAaC,KAAK7E,KAAK6E,KAAKC,KAAK9E,KAAK8E,MAAMlK,GAAGG,EAAE2J,cAAc1E,KAAK0D,OAAM/I,EAAAA,EAAAA,IAAExC,GAAG6C,EAAE,EAAE,SAASuD,EAAE5D,EAAExC,EAAE6C,EAAED,GAAG,MAAME,EAAEF,EAAEL,EAAEM,EAAEN,EAAEG,EAAEE,EAAEQ,EAAEP,EAAEO,EAAEX,EAAEK,EAAEA,EAAEJ,EAAEA,EAAEY,GAAGtD,EAAEuC,EAAEM,EAAEN,GAAGO,GAAG9C,EAAEoD,EAAEP,EAAEO,GAAGV,EAAEC,EAAEI,KAAKwB,IAAI,EAAExB,KAAKqB,IAAI,EAAEd,EAAEb,IAAID,EAAED,EAAEM,EAAEN,EAAEO,EAAEH,EAAEH,EAAEY,EAAEP,EAAEO,EAAEV,EAAEC,CAAC,CAAC,SAAS8L,EAAEjM,EAAExC,GAAG,OAAOwC,EAAExC,EAAE,EAAE,EAAEA,EAAE,EAAE,CAAC,CAAC,MAAM8O,EAAElH,WAAAA,CAAYpF,EAAExC,GAAG6H,KAAKmH,OAAOxM,EAAEqF,KAAKsH,YAAYnP,CAAC,CAAC,KAAIuC,GAAI,OAAOsF,KAAKmH,OAAOnH,KAAKsH,YAAY,CAAC,KAAI/L,GAAI,OAAOyE,KAAKmH,OAAOnH,KAAKsH,YAAY,EAAE,CAAC,KAAIJ,GAAI,OAAOlH,KAAKmH,OAAOnH,KAAKsH,YAAY,EAAE,E,4BCAlqa,MAAMnL,GAAE,oBAAoBoB,eAAef,GAAErE,EAACwP,GAAqE,IAAnErH,YAAYvF,EAAE6J,aAAa5J,EAAEiE,iBAAiBpE,EAAEgR,gBAAgBpQ,GAAEkM,EAAE,IAAIxP,EAAEoN,UAAU,GAAG,GAAG,MAAMpN,EAAE2T,mBAAmB3T,EAAE4T,kBAAkB,gBAAgB5T,EAAE4T,kBAAkB5T,EAAE6T,WAAW7T,EAAE8T,eAAe9T,EAAE+T,KAAK,MAAM,IAAIvR,EAAAA,EAAEwB,GAAE,4BAA4B,CAAC+E,MAAM/I,IAAI,OAAOiE,GAAErB,EAAEU,EAAEtD,GAAksB,SAAWA,EAAE4C,EAAEF,GAAG,MAAMiL,cAAclL,EAAEmL,2BAA2B9K,EAAEyG,OAAO5G,GAAGD,EAAE2B,EAAEvB,GAAGY,OAAOO,EAAExB,GAAGiB,OAAO,GAAGf,EAAE,CAAC,IAAI0B,IAAIJ,EAAE,MAAM,IAAIzB,EAAAA,EAAEwB,GAAE,+EAA+E,CAAC+E,MAAMrG,IAAIY,EAAEtD,EAAE4C,EAAED,EAAEF,EAAEC,EAAE,CAAC,GAAGuB,EAAE,CAAC,IAA04C,SAAWzB,GAAG,OAAO,MAAMA,GAAGA,EAAEyG,OAAOzG,GAAG,iBAAiBA,EAAE6G,eAAe,CAAl9C7E,CAAE/B,GAAG,OAAO,MAAMa,EAAEb,EAAEU,KAAKX,GAAGA,EAAE4G,mBAAmBQ,OAAOoK,SAASnR,EAAE7C,EAAE4C,EAAEU,EAAE,CAACmF,eAAe,oBAAoBM,MAAMrG,IAAI2B,GAAGxB,EAAE7C,EAAE4C,EAAEE,EAAE,CAAC2F,eAAe,6BAA6BM,MAAMrG,IAAI,IAAI,MAAMI,KAAKL,EAAE,CAAC,MAAM2G,iBAAiB9F,EAAE+F,cAAc5G,GAAGK,EAAE,GAAI,oBAAoBL,GAAG,oBAAoBA,KAAI,wBAAwBK,GAA2I9C,EAAEgI,IAAI1E,IAAI,UAAUb,GAAG,QAAQA,GAAG,QAAQA,GAAGI,EAAE7C,EAAE4C,EAAE,CAACU,GAAG,CAACmF,eAAe,uBAAuBhG,oBAAoBuH,kBAAkB1F,GAAEyE,MAAMrG,QAArR,CAAC,MAAM6Q,oBAAoBvT,GAAG8C,EAAE,IAAI9C,EAAE,MAAM,IAAIwC,EAAAA,EAAEwB,GAAE,wDAAwD,CAACiQ,WAAWnR,EAAEiG,MAAMrG,GAAG,CAAqJ,CAAC,CAAC,CAAvhD+B,CAAE7B,EAAEU,EAAEtD,GAAGkU,QAAQC,IAAI,EAACrR,EAAAA,GAAAA,IAAE9C,EAAE6C,EAAEH,IAAGD,EAAAA,EAAAA,IAAEC,EAAE1C,EAAEsO,SAAS8F,MAAM,IAAIpU,GAAG,CAAC,SAASiE,GAAEjE,EAAE4C,EAAEU,GAAG,MAAMuI,UAAUpJ,EAAEqP,cAAchP,EAAE6I,qBAAqBhJ,EAAEgL,cAActJ,GAAGf,EAAEW,EAAEI,EAAEA,EAAElB,KAAKX,GAAGA,EAAEmQ,uBAAuBnQ,EAAEmQ,sBAAsB7M,gBAAgB8D,OAAOoK,SAAS,GAAG,GAAGlR,GAAGA,EAAEY,OAAO,EAAE,CAAC,MAAMlB,EAAE,OAAOE,EAAE,QAAQD,EAAEK,EAAEK,KAAKnD,IAAI,MAAM4C,EAAE5C,EAAE8F,cAAc,OAAOlD,EAAE+G,SAASnH,GAAGI,EAAE6G,MAAMjH,GAAG,GAAGI,EAAE+G,SAASjH,GAAGE,EAAE6G,MAAM/G,GAAG,GAAG1C,CAAC,IAAI4J,QAAQpH,IAAIyB,EAAE0F,SAASnH,KAAKK,EAAE7C,EAAE4C,EAAEH,EAAE,CAACgG,eAAe,gBAAgBM,MAAMzF,GAAG,CAAC,GAAGb,GAAGA,EAAEiB,OAAO,EAAEb,EAAE7C,EAAE4C,EAAEH,EAAE,CAACgG,eAAe,YAAYM,MAAMzF,EAAE0G,kBAAkB,aAAa,GAAGrH,EAAE,MAAM,IAAIH,EAAAA,EAAEwB,GAAE,yDAAyD,CAAC+E,MAAMzF,KNAzW,SAAWd,EAAEI,EAAEF,EAAEG,GAAG,IAAIH,EAAE,OAAM,EAAG,MAAM1C,EAAE,eAAsBsC,EAAEE,EAAEI,EAAE0B,EAAE9B,EAAEE,EAAE,CAACgG,sBAAqB,EAAGD,eAAezI,IAAI,CAACyI,eAAezI,EAAE+I,MAAMlG,GAAM,CMAsNH,CAAE1C,EAAE4C,EAAEU,EAAE+Q,MAAM/Q,EAAE,CAAC,MAAMgB,GAAE,IAAIgE,IAAI,IAAItI,KAAK4C,IAA8uCwC,eAAehC,GAAEpD,EAAE4C,EAAEF,EAAEY,GAAG,IAAIb,EAAE,GAAG,GAAGC,EAAEqD,gBAAgB,CAAC,MAAMS,YAAYhE,SAASG,EAAAA,EAAAA,MAAIF,EAAED,EAAE8R,kBAAkB5R,EAAEqD,gBAAgB,CAAC,GAAGrD,EAAE4C,OAAO7C,EAAEkF,KAAKjF,EAAE4C,OAAO5C,EAAE6C,QAAQ9C,EAAEkF,KAAKjF,EAAE6C,QAAQ7C,EAAE8C,QAAQ/C,EAAEkF,KAAKjF,EAAE8C,QAAQ9C,EAAEuD,oBAAoBxD,EAAEkF,KAAKjF,EAAEuD,qBAAqBxD,EAAEiB,SAAShB,EAAEqD,gBAAgB,MAAM,IAAIvD,EAAAA,EAAEwB,GAAE,uCAAuC,CAACuQ,OAAO7R,IAAIG,EAAE7C,EAAE4C,EAAEH,EAAE,CAACgG,eAAe,aAAaM,MAAMzF,GAAG,C,uCCA/4B,MAAM4M,GAAEtI,WAAAA,CAAYpF,GAAGqF,KAAKC,OAAO,IAAIvB,EAAEsB,KAAK2M,cAAc,KAAK3M,KAAK4M,aAAa,CAAC1L,MAAM/B,EAAAA,GAAGa,KAAK4E,aAAajK,EAAEiK,aAAa5E,KAAK8E,OAAOnK,EAAEmK,KAAK9E,KAAK6E,OAAOlK,EAAEkK,KAAK7E,KAAK4F,cAAcjL,EAAEiL,cAAc5F,KAAKf,iBAAiBtE,EAAEsE,iBAAiBe,KAAK6M,qBAAqBlS,EAAEkS,qBAAqB7M,KAAK8M,aAAanS,EAAEmS,aAAa9M,KAAK+M,iBAAiBpS,EAAEoS,iBAAiB/M,KAAK2M,cAAc3M,KAAK8M,aAAaE,OAAOC,GAAG,WAAW,IAAIjN,KAAKkN,eAAelN,KAAKmN,SAASxS,EAAEwS,SAASnN,KAAKM,aAAYtF,EAAAA,EAAAA,IAAEL,EAAE2F,aAAa3F,EAAE2F,YAAY8M,GAAAA,EAAExK,SAASjI,EAAE2F,cAAc3F,EAAEkR,iBAAiB,IAAIlR,EAAEkR,gBAAgBhQ,QAAQ,MAAMlB,EAAEkR,gBAAgB,GAAG7L,KAAK6L,gBAAgB,IAAIpL,IAAIT,KAAKM,YAAYjB,OAAO/D,KAAKX,GAAGA,EAAEqD,QAAQgC,KAAK6L,gBAAgB,IAAIpL,IAAI9F,EAAEkR,gBAAgBvQ,KAAKX,GAAGqF,KAAKM,YAAYH,IAAIxF,IAAIqD,OAAO+D,QAAQpH,GAAG,MAAMA,KAAKA,EAAE0S,WAAW1S,EAAE2S,WAAWtN,KAAKuN,WAAW5S,EAAE0S,UAAUG,aAAa7S,EAAE2S,UAAU,CAAChK,OAAAA,GAAUtD,KAAKuN,YAAWtS,EAAAA,EAAAA,IAAE+E,KAAKuN,YAAYvN,KAAKkN,cAAatS,EAAAA,EAAAA,IAAEoF,KAAKC,QAAQD,KAAK2M,eAAc1R,EAAAA,EAAAA,IAAE+E,KAAK2M,cAAc,CAAC,kBAAI5I,GAAiB,OAAO/D,KAAK8M,aAAa/I,cAAc,CAACmJ,UAAAA,GAAalN,KAAKC,OAAOsD,QAAQvD,KAAKyN,oBAAoB,KAAKzN,KAAK0N,mBAAmB,KAAK1N,KAAK2N,mBAAmB,IAAI,CAAC,kBAAMC,CAAajT,EAAExC,GAAG,MAAM4C,GAAED,EAAAA,EAAAA,IAAE3C,GAAG,IAAI,MAAMA,QAAQ6H,KAAK6N,cAAclT,EAAE,CAAC,EAAEI,GAAG,aAAa5C,EAAEiO,qBAAqB,CAAC,MAAMpL,GAAG,GAAGA,IAAI8S,GAAAA,GAAE,MAAM9S,EAAE,OAAO,IAAI4L,EAAE,GAAGjM,EAAEqF,MAAMoG,qBAAqB,CAAC,CAAC,0BAAM2H,GAA4B,IAAPpT,EAACiB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,CAAC,EAAEzD,EAACyD,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAE,MAAMf,GAAED,EAAAA,EAAAA,IAAE3C,GAAG,IAAI,aAAa6H,KAAK6N,cAAclT,EAAE,CAACuP,gBAAe,EAAGC,gBAAe,EAAG1D,MAAM,MAAM1L,IAAI8K,6BAA6B,CAAC,MAAM7K,GAAG,GAAGA,IAAI8S,GAAAA,GAAE,MAAM9S,EAAE,OAAO,CAAC,CAAC,CAAC,2BAAMgT,CAAsBrT,EAAExC,GAAG,MAAM4C,GAAED,EAAAA,EAAAA,IAAE3C,GAAG6C,EAAEL,EAAE8L,MAAM,IAAI,MAAMtO,QAAQ6H,KAAK6N,cAAclT,EAAE,CAACuP,gBAAe,EAAGC,gBAAe,EAAG1D,MAAM,MAAM1L,GAAGF,EAAE1C,EAAEiK,KAAK,OAAIvH,EAAoC,CAACoQ,MAAMpQ,EAAEoT,aAAajO,KAAKkO,WAAW/V,EAAEuL,MAAMvL,EAAE8G,iBAAiBjE,GAAGgF,KAAKf,mBAArG,CAACgM,MAAM,EAAEgD,OAAO,KAAuG,CAAC,MAAMpT,GAAG,GAAGA,IAAIiT,GAAAA,GAAE,MAAM,CAAC7C,MAAM,EAAEgD,OAAO,MAAM,MAAMpT,CAAC,CAAC,CAAC,wBAAMsT,CAAmBxT,EAAExC,GAAG,OAAO6H,KAAKoO,qBAAqBzT,EAAExC,GAAGoU,MAAM5R,GAAG2H,MAAMC,KAAK5H,IAAI,CAAC,0BAAMyT,CAAqBzT,EAAExC,GAAG,MAAM4C,GAAED,EAAAA,EAAAA,IAAE3C,GAAG,IAAI,MAAMA,QAAQ6H,KAAK6N,cAAclT,EAAE,CAACuP,gBAAe,EAAGC,gBAAe,EAAG1D,MAAM,MAAM1L,GAAGC,EAAE7C,EAAEuL,MAAM7I,EAAE,IAAI4F,IAAI,aAAaT,KAAKqO,aAAa,KAAK,IAAI,MAAM1T,KAAKK,EAAEH,EAAEsL,IAAIhO,EAAE4L,eAAewD,YAAY5M,GAAG,GAAGI,GAAGF,CAAC,CAAC,MAAMG,GAAG,GAAGA,IAAI8S,GAAAA,GAAE,OAAO,IAAIrN,IAAI,MAAMzF,CAAC,CAAC,CAAC,6BAAMsT,CAAwB3T,EAAExC,GAAG,MAAM4C,GAAED,EAAAA,EAAAA,IAAE3C,IAAI0O,MAAM7L,EAAEuK,SAAStK,EAAEoM,WAAWzM,EAAE6M,WAAWtL,GAAGxB,EAAE,IAAIC,GAAG,SAASuB,EAAE,MAAM,CAAC4K,WAAW,IAAI,IAAItL,GAAEZ,EAAAA,EAAAA,IAAEF,EAAEuG,OAAOzF,QAAQuE,KAAKuO,WAAW,KAAIC,EAAAA,GAAAA,IAAE/S,EAAEuE,KAAK6M,qBAAqB7M,KAAKf,mBAAmBlE,GAAGU,QAAQuE,KAAKqO,aAAa,IAAIpH,GAAExL,EAAE,CAACoQ,gBAAgB7L,KAAK6L,gBAAgBvL,YAAYN,KAAKM,YAAYsE,aAAa5E,KAAK4E,aAAa3F,iBAAiBe,KAAKf,oBAAoBlE,GAAG,MAAM4B,IAAG8L,EAAAA,EAAAA,IAAEzN,EAAEiE,iBAAiBe,KAAKf,kBAAkBtC,SAASa,EAAAA,EAAAA,IAAExC,EAAEiE,iBAAiBe,KAAKf,kBAAkB,MAAM7C,EAAE,iBAAiBnB,EAAEA,EAAEA,EAAEP,EAAE4B,EAAE,iBAAiBrB,EAAEA,EAAEA,EAAEM,EAAEqB,EAAE,CAAC6R,KAAKzT,EAAEN,EAAE0B,EAAEsS,KAAK1T,EAAEN,EAAE0B,EAAEuS,KAAK3T,EAAEO,EAAEe,EAAEsS,KAAK5T,EAAEO,EAAEe,EAAE2C,iBAAiBjE,EAAEiE,kBAAkBxC,EAAEE,GAAEyM,EAAAA,EAAAA,IAAExM,EAAEoD,KAAKf,kBAAkBrC,EAAE,IAAIH,EAAE,MAAM,CAACsK,WAAW,IAAI,MAAMxL,SAAS+C,EAAAA,EAAAA,KAAE5D,EAAAA,EAAAA,IAAEM,GAAG,KAAK,CAAC6T,OAAO9T,KAAK,GAAGyB,SAAS8B,EAAAA,EAAAA,KAAE5D,EAAAA,EAAAA,IAAE+B,GAAG,KAAK,CAACoS,OAAO9T,KAAK,GAAG,GAAG,MAAMQ,GAAG,MAAMiB,EAAE,MAAM,CAACuK,WAAW,IAAI,MAAMtM,EAAE,IAAImM,QAAQ5G,KAAKqO,aAAa,IAAIrO,KAAK8O,gBAAgBC,GAAEvS,EAAEwS,YAAYjU,GAAGU,EAAEuE,YAAYA,KAAKqO,aAAa,IAAIrO,KAAKiP,uBAAuBxU,IAAIM,SAASiF,KAAKqO,aAAa,IAAIrO,KAAKkP,kBAAkBzU,IAAIM,SAASiF,KAAKqO,aAAa,IAAIrO,KAAKmP,wBAAwB1U,IAAIM,SAASiF,KAAKqO,aAAa,IAAIrO,KAAKoP,iCAAiC3U,EAAEM,IAAIA,GAAG,MAAMqN,EAAE7M,EAAEyT,SAASrT,EAAEgB,GAAEyM,EAAAA,EAAAA,IAAEhB,EAAEpI,KAAKf,kBAAkBmJ,EAAEa,EAAEtM,EAAEzB,KAAKqB,IAAIE,EAAEiS,KAAKjS,EAAEgS,KAAKhS,EAAEmS,KAAKnS,EAAEkS,MAAM,EAAE1T,EAAE,OAAOR,EAAEkM,uBAAuB,IAAIhM,EAAEkM,MAAMlL,EAAE4J,SAAS0D,GAAGjO,EAAEiE,iBAAiB,CAAC,uCAAMoQ,CAAkC1U,EAAExC,GAAG,MAAM6C,GAAEF,EAAAA,EAAAA,IAAE3C,GAAG,IAAI6H,KAAKmN,UAAUmC,aAAa,MAAM,IAAIvU,EAAAA,EAA12H,oBAA82H,4CAA4C,CAACmG,MAAMvG,EAAEwS,SAASnN,KAAKmN,WAAW,IAAI,MAAMhV,QAAQ6H,KAAK6N,cAAclT,EAAE,CAAC,EAAEK,GAAG,aAAagF,KAAKqO,aAAa,IAAIrO,KAAKuP,cAAcpX,IAAI6C,SAAS7C,EAAEiO,qBAAqB,CAAC,MAAMvL,GAAG,GAAGA,IAAIiT,GAAAA,GAAE,MAAMjT,EAAE,OAAO,IAAI+L,EAAE,GAAGjM,EAAEqF,MAAMoG,qBAAqB,CAAC,CAAC,sCAAMoJ,GAA0C,IAAT7U,EAACiB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,CAAC,EAAEzD,EAACyD,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAACf,EAACa,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAE,MAAMd,GAAEF,EAAAA,EAAAA,IAAEC,IAAI0C,MAAM5C,EAAEuD,mBAAmBnD,EAAEiD,gBAAgBtD,GAAGzC,EAAE,aAAa6H,KAAKyP,2BAA2B9U,EAAE,CAAC8C,MAAM5C,EAAEuD,mBAAmBnD,EAAEiD,gBAAgBtD,GAAGI,IAAI8M,gCAAgC3P,EAAE,CAAC,iCAAMuX,GAAqC,IAAT/U,EAACiB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,CAAC,EAAEzD,EAACyD,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAACf,EAACa,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAE,MAAMd,GAAEF,EAAAA,EAAAA,IAAEC,IAAI0C,MAAM5C,EAAE6C,OAAOzC,EAAE0C,OAAO/C,EAAEsD,gBAAgB/B,GAAGhE,EAAE,aAAa6H,KAAKyP,2BAA2B9U,EAAE,CAAC8C,MAAM5C,EAAE6C,OAAOzC,EAAE0C,OAAO/C,EAAEsD,gBAAgB/B,GAAGnB,IAAI0N,2BAA2BvQ,EAAE,CAAC,gCAAMwX,GAAoC,IAAThV,EAACiB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,CAAC,EAAEzD,EAACyD,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAACf,EAACa,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAE,MAAMd,GAAEF,EAAAA,EAAAA,IAAEC,IAAI0C,MAAM5C,EAAEuD,mBAAmBnD,EAAEiD,gBAAgBtD,GAAGzC,EAAE,aAAa6H,KAAKyP,2BAA2B9U,EAAE,CAAC8C,MAAM5C,EAAEuD,mBAAmBnD,EAAEiD,gBAAgBtD,GAAGI,IAAI6N,0BAA0B1Q,EAAE,CAAC,8BAAMyX,GAAkC,IAATjV,EAACiB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,CAAC,EAAEzD,EAACyD,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAACf,EAACa,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAE,MAAMd,GAAEF,EAAAA,EAAAA,IAAEC,IAAI0C,MAAM5C,EAAEuD,mBAAmBnD,EAAEiD,gBAAgBtD,GAAGzC,EAAE,aAAa6H,KAAKyP,2BAA2B9U,EAAE,CAAC8C,MAAM5C,EAAEuD,mBAAmBnD,EAAEiD,gBAAgBtD,GAAGI,IAAIkO,wBAAwB/Q,EAAE,CAAC,4BAAM0X,CAAuBlV,GAAG,MAAMxC,GAAE2C,EAAAA,EAAAA,IAAEH,GAAGqF,KAAK0N,sBAAqBoC,EAAAA,GAAAA,GAAE9P,KAAKmN,SAASnN,KAAK8M,cAAc,MAAM/R,EAAEC,SAASqR,QAAQC,IAAI,CAACtM,KAAK+P,iBAAiB/P,KAAK0N,qBAAqB,OAAOvR,EAAAA,EAAAA,IAAEhE,GAAG,CAAC6X,WAAWjV,EAAEkV,WAAWjV,EAAE,CAAC,gBAAMkT,CAAWvT,EAAExC,EAAE4C,GAAG,MAAMC,GAAEoB,EAAAA,EAAAA,KAAEQ,EAAAA,EAAAA,MAAIN,EAAAA,UAAS0D,KAAK8M,aAAaoD,cAAcvV,GAAGA,IAAG8B,EAAAA,EAAAA,IAAEzB,EAAEL,KAAK,MAAME,EAAE,CAAC4T,KAAKzT,EAAE,GAAG2T,KAAK3T,EAAE,GAAG0T,KAAK1T,EAAE,GAAG4T,KAAK5T,EAAE,GAAGiE,kBAAiBvD,EAAAA,EAAAA,IAAEsE,KAAKf,mBAAmBe,KAAK6E,MAAMjF,SAAS5E,EAAE,KAAK4E,SAAS5E,EAAE,MAAMH,EAAEsV,KAAKnV,EAAE,GAAGH,EAAEuV,KAAKpV,EAAE,GAAGH,EAAEgK,MAAK,GAAI,MAAM5J,GAAEmO,EAAAA,EAAAA,IAAEvO,EAAE1C,EAAE4C,GAAG,GAAGE,EAAEgE,kBAAiBvD,EAAAA,EAAAA,IAAEX,GAAGE,EAAEyT,KAAKzT,EAAEwT,MAAM,EAAE,CAAC,MAAM9T,GAAEc,EAAAA,EAAAA,IAAER,EAAEgE,kBAAkBhE,EAAEwT,MAAM9T,EAAEM,EAAEyT,MAAM/T,CAAC,CAAC,GAAGM,EAAE2T,KAAK3T,EAAE0T,MAAM,EAAE,CAAC,MAAMhU,GAAEc,EAAAA,EAAAA,IAAER,EAAEgE,kBAAkBhE,EAAE0T,MAAMhU,EAAEM,EAAE2T,MAAMjU,CAAC,CAAC,GAAGqF,KAAK6E,MAAM,MAAM5J,EAAEkV,MAAM,MAAMlV,EAAEmV,MAAMnV,EAAEmV,KAAKnV,EAAEkV,MAAM,EAAE,CAAC,MAAMxV,GAAEc,EAAAA,EAAAA,IAAER,EAAEgE,kBAAkBhE,EAAEkV,MAAMxV,EAAEM,EAAEmV,MAAMzV,CAAC,CAAC,OAAOM,CAAC,CAAC8U,cAAAA,GAAiB,OAAO/P,KAAK2N,qBAAqB,kBAAkB3N,KAAK8M,cAAc9M,KAAK8M,aAAauD,cAAchE,QAAQiE,QAAQtQ,KAAK8M,aAAauD,cAAcrQ,KAAKf,mBAAmBe,KAAKuQ,kBAAkBhE,MAAM5R,GAAGqF,KAAKkO,WAAWvT,EAAEqF,KAAKf,iBAAiBe,KAAKf,oBAAoBe,KAAK2N,kBAAkB,CAAC,eAAMY,CAAU5T,EAAExC,GAAG,OAAO,MAAM6H,KAAKuN,WAAWvN,KAAKuN,WAAWiD,SAAS7V,EAAExC,GAAGwC,EAAE8V,GAAAA,GAAE,CAAC,iBAAMpC,CAAY1T,EAAExC,GAAG,OAAO,MAAM6H,KAAKuN,WAAWvN,KAAKuN,WAAWmD,WAAW/V,EAAExC,GAAGwC,EAAE8V,GAAAA,GAAE,CAAC,sCAAME,CAAiChW,GAAG,OAAO,IAAIiM,QAAQ5G,KAAKuQ,kBAAkB5V,EAAEqF,KAAK,CAAC,qBAAMuQ,GAAkB,GAAG,MAAMvQ,KAAKyN,oBAAoB,CAAC,MAAM9S,EAAE,GAAGqF,KAAKyN,oBAAoB,iBAAiBzN,KAAK8M,aAAaxN,SAASnH,GAAGwC,EAAEmF,KAAK3H,IAAK,EAA3D,GAA+DoU,MAAM,IAAI5R,GAAG,CAAC,MAAMA,EAAEqF,KAAKyN,oBAAoBtV,QAAQwC,EAAE,OAAOA,IAAIqF,KAAKyN,oBAAoBtV,EAAEmS,QAAQtK,KAAKuQ,iBAAiB,CAAC,mBAAM1C,CAAclT,EAAExC,EAAE4C,GAAGJ,GAAEE,EAAAA,EAAAA,IAAEF,GAAGA,QAAQqF,KAAKuO,WAAW,KAAIrH,EAAAA,GAAAA,IAAEvM,EAAEqF,KAAK6M,qBAAqB7M,KAAKf,mBAAmBlE,GAAGJ,QAAQqF,KAAKqO,aAAa,IAAIpH,GAAEtM,EAAE,CAACkR,gBAAgB7L,KAAK6L,gBAAgBvL,YAAYN,KAAKM,YAAYsE,aAAa5E,KAAK4E,aAAa3F,iBAAiBe,KAAKf,oBAAoBlE,GAAGJ,EAAE,IAAIA,KAAKxC,GAAG,MAAM6C,QAAQgF,KAAKqO,aAAa,IAAIrO,KAAK4Q,yBAAyBjW,EAAEI,IAAIA,GAAGE,QAAQ+E,KAAKqO,aAAa,IAAIrO,KAAK6Q,sBAAsBlW,EAAEK,EAAED,IAAIA,GAAG,aAAaiF,KAAKqO,aAAa,IAAIrO,KAAK8Q,0BAA0B7V,IAAIF,SAASiF,KAAKqO,aAAa,IAAIrO,KAAKiP,uBAAuBhU,IAAIF,SAASiF,KAAKqO,aAAa,IAAIrO,KAAKkP,kBAAkBjU,IAAIF,SAASiF,KAAKqO,aAAa,IAAIrO,KAAKmP,wBAAwBlU,IAAIF,GAAGE,CAAC,CAAC,8BAAM2V,CAAyBjW,EAAExC,GAAG,GAAG,MAAMwC,EAAEoW,YAAY,OAAO,KAAK,MAAMtK,MAAM1L,EAAEmP,eAAelP,EAAEmP,eAAetP,GAAGF,EAAEM,EAAE+E,KAAK8M,aAAakE,wBAAwBpW,EAAED,EAAEoW,YAAYvV,SAASV,EAAE,MAAMG,IAAGwN,EAAAA,EAAAA,IAAExN,EAAEL,EAAEqE,kBAAkBrE,GAAEwO,EAAAA,EAAAA,IAAExO,EAAEK,GAAG,IAAIH,EAAE,OAAO,KAAK,MAAMqB,EAAEnB,GAAGH,EAAEY,GAAEwN,EAAAA,EAAAA,IAAElO,MAAK0N,EAAAA,EAAAA,IAAEzI,KAAKf,iBAAiBlE,IAAIoB,EAAEoB,SAASyC,KAAKiR,SAAStW,EAAEI,GAAGJ,GAAGA,EAAEgC,EAAEqD,KAAK+D,eAAe3H,QAAQ4D,KAAKqO,aAAa,IAAIrO,KAAK8O,gBAAgBC,GAAEjU,KAAK3C,GAAG,GAAG,aAAawC,EAAEoW,YAAYG,oBAAoB,CAAC,IAAI9U,EAAEP,OAAO,OAAO,KAAK,MAAMd,EAAE,IAAI0F,IAAI,IAAI,MAAM9F,KAAKyB,EAAErB,EAAEoL,IAAIxJ,EAAE4K,YAAY5M,IAAI,MAAMK,QAAQgF,KAAKqO,aAAa,IAAIrO,KAAKuQ,mBAAmBpY,GAAG0C,QAAQmF,KAAKqO,aAAa9Q,UAAU,MAAM1C,QAAQsW,EAAAA,GAAAA,IAAE,yBAAyBrW,EAAEkF,KAAK4E,aAAa5E,KAAK6E,KAAK7E,KAAK8E,MAAyDlK,QAAQoF,KAAKoR,kBAAkBpW,GAAhFL,IAAII,EAAE0H,IAAI9F,EAAE4K,YAAY5M,KAAKE,EAAE8B,EAAEoI,YAAYpK,KAAuCxC,GAAG,OAAO,IAAIyO,EAAEhM,EAAED,EAAEqF,KAAK,GAAG7H,GAAG,OAAOsD,EAAEZ,EAAE,CAAC,IAAIuB,EAAEP,OAAO,OAAO,IAAI+K,EAAE,GAAGjM,EAAEqF,MAAM,GAAGA,KAAKqR,sBAAsBvW,EAAEH,GAAG,OAAOc,EAAE,IAAImL,EAAExK,EAAEzB,EAAEqF,OAAO,MAAM1D,QAAQ6U,EAAAA,GAAAA,IAAE,yBAAyBrW,EAAEkF,KAAK4E,aAAa5E,KAAK6E,KAAK7E,KAAK8E,MAAMlI,QAAQoD,KAAKoR,kBAAkBhV,GAAGzB,GAAG2B,EAAEK,EAAEoI,YAAYpK,KAAKxC,GAAG,OAAOsD,EAAE,IAAImL,EAAEhK,EAAEjC,EAAEqF,MAAM,CAAC,2BAAM6Q,CAAsB9V,EAAEC,EAAEH,GAAG,GAAG,MAAMG,GAAG,IAAIA,EAAE0I,MAAM7H,OAAO,OAAOb,EAAED,EAAE,MAAMC,EAAEA,EAAEkG,MAAMnG,EAAE,MAAMS,SAASP,EAAEwL,MAAM7L,EAAE0W,WAAWxW,EAAEoP,eAAe/N,EAAEgO,eAAe1O,GAAGV,EAAE4B,EAAEqD,KAAK8M,aAAakE,wBAAwB5U,GAAGnB,GAAG,MAAM0B,IAAG8L,EAAAA,EAAAA,IAAE9L,EAAE1B,EAAEgE,kBAAkBhE,GAAEmO,EAAAA,EAAAA,IAAEnO,EAAE0B,GAAGL,EAAEH,GAAGV,EAAEmB,GAAEqM,EAAAA,EAAAA,IAAErO,MAAK6N,EAAAA,EAAAA,IAAEzI,KAAKf,iBAAiBrE,GAAG6B,EAAE,MAAMzB,EAAEgF,KAAKuR,aAAaxW,GAAG,KAAKQ,EAAEkB,EAAEuD,KAAKC,OAAOE,IAAI1D,GAAG,KAAK,GAAG,MAAMlB,EAAE,OAAO,IAAIqL,EAAErL,EAAER,EAAEiF,MAAM,MAAMxD,EAAEe,UAAUX,GAAGN,SAAS0D,KAAKiR,SAAStW,EAAEC,GAAG6B,GAAGuD,KAAKC,OAAOM,IAAI9D,EAAE9B,EAAE+I,OAAO/I,GAAG,IAAIyB,EAAE,OAAOI,EAAE,MAAMxB,EAAEA,QAAQgF,KAAK2Q,iCAAiC5V,IAAI,MAAMN,EAAEuF,KAAK+D,eAAe,IAAIrJ,QAAQsF,KAAKqO,aAAa,IAAIrO,KAAK8O,gBAAgBC,GAAE9T,KAAKJ,GAAG,GAAG,2BAA2BC,EAAE,CAAC,IAAIJ,EAAEmB,OAAO,OAAOW,EAAE,MAAMxB,EAAEA,QAAQgF,KAAK2Q,iCAAiC5V,IAAI,MAAMJ,EAAE,IAAI8F,IAAI,IAAI,MAAM1F,KAAKL,EAAEC,EAAEwL,IAAI1L,EAAE8M,YAAYxM,IAAI,MAAM5C,EAAE,MAAM6C,EAAEA,EAAE0I,YAAY1D,KAAKqO,aAAa,IAAIrO,KAAKuQ,mBAAmB1V,GAAGI,QAAQ+E,KAAKqO,aAAa9Q,UAAU,MAAMvC,QAAQmW,EAAAA,GAAAA,IAAErW,EAAEsB,EAAE4D,KAAK4E,aAAa5E,KAAK6E,KAAK7E,KAAK8E,MAAyDlK,QAAQoF,KAAKoR,kBAAkBjZ,GAAhFA,IAAIwC,EAAE8H,IAAIhI,EAAE8M,YAAYpP,KAAK6C,EAAEP,EAAEsK,YAAY5M,KAAuC0C,GAAG,OAAO,IAAI+L,EAAEhM,EAAEG,EAAEiF,KAAK,GAAGnF,GAAG,OAAO2B,EAAEvB,EAAE,CAAC,GAAG,MAAMD,EAAE,CAAC,MAAMD,EAAE,IAAI5C,EAAAA,GAAEuC,EAAEA,EAAEqH,QAAQ5J,IAAGwC,EAAAA,EAAAA,IAAEK,EAAE0I,MAAMvL,EAAE6C,EAAE0I,MAAM7H,OAAOd,IAAI,GAAG,CAAC,IAAIL,EAAEmB,OAAO,CAAC,MAAMlB,EAAE,IAAIiM,EAAE,GAAG7L,EAAEiF,MAAM,OAAOvD,GAAGuD,KAAKC,OAAOM,IAAI9D,EAAE9B,EAAE+I,OAAO/I,CAAC,CAAC,GAAGqF,KAAKqR,sBAAsBjV,EAAErB,GAAG,OAAOyB,EAAE,IAAIoK,EAAElM,EAAEK,EAAEiF,OAAO,MAAMoI,QAAQ+I,EAAAA,GAAAA,IAAErW,EAAEsB,EAAE4D,KAAK4E,aAAa5E,KAAK6E,KAAK7E,KAAK8E,MAAMnJ,QAAQqE,KAAKoR,kBAAkB1W,GAAGC,GAAGyN,EAAE3N,EAAEsK,YAAYpK,KAAKE,GAAG,OAAO2B,EAAE,IAAIoK,EAAEjL,EAAEZ,EAAEiF,MAAM,CAAC,sCAAMoP,CAAiCzU,EAAExC,GAAG,MAAM+I,MAAMnG,GAAGJ,GAAG2W,WAAWtW,GAAGD,EAAE,IAAIJ,GAAG+I,OAAO7H,SAASd,EAAES,WAAWR,EAAE,OAAO,MAAMH,QAAQsW,EAAAA,GAAAA,IAAEnW,EAAED,EAAES,SAASwE,KAAK4E,aAAa5E,KAAK6E,KAAK7E,KAAK8E,MAAM7J,QAAQ+E,KAAKoR,kBAAkBzW,EAAE+I,OAAO/I,GAAGE,EAAEF,EAAEa,WAAWrD,GAAGwC,EAAE+I,MAAMzI,CAAC,CAAC6V,yBAAAA,CAA0BnW,GAAG,GAAG,IAAIA,EAAE+I,MAAM7H,SAASlB,EAAEuG,MAAMsQ,cAAc3V,QAAQ,MAAMmE,KAAK+M,iBAAiB,OAAO,MAAM5U,EAAE,IAAIsI,IAAI,IAAI,MAAMzF,KAAKL,EAAEuG,MAAMsQ,aAAcxR,KAAK+M,iBAAiB0E,oBAAoBzW,GAAGsE,SAAS3E,GAAGxC,EAAEgO,IAAIxL,KAAK,MAAMI,EAAEiF,KAAK+D,eAAewD,YAAY5M,EAAE+I,MAAM/I,EAAE+I,MAAM3B,QAAQpH,GAAGxC,EAAEsK,IAAI1H,EAAEJ,KAAK,CAACsU,sBAAAA,CAAuBtU,GAAG,GAAG,IAAIA,EAAE+I,MAAM7H,SAASlB,EAAEuG,MAAMwQ,WAAW7V,OAAO,OAAO,MAAM1D,EAAE,IAAIsI,IAAI9F,EAAEuG,MAAMwQ,WAAW3W,EAAEiF,KAAK+D,eAAewD,YAAY5M,EAAE+I,MAAM/I,EAAE+I,MAAM3B,QAAQpH,GAAGxC,EAAEsK,IAAI1H,EAAEJ,KAAK,CAACuU,iBAAAA,CAAkBvU,GAAG,GAAG,IAAIA,EAAE+I,MAAM7H,OAAO,OAAO,MAAM1D,GAAEwZ,EAAAA,GAAAA,GAAE3R,KAAKmN,SAASxS,EAAEuG,MAAM+O,WAAWjQ,KAAK+D,gBAAgB,MAAM5L,IAAIwC,EAAE+I,MAAM/I,EAAE+I,MAAM3B,OAAO5J,GAAG,CAACgX,uBAAAA,CAAwBxU,GAAG,GAAG,IAAIA,EAAE+I,MAAM7H,OAAO,OAAO,MAAM1D,EAAE0E,EAAElC,EAAEuG,MAAMsL,MAAMxM,KAAKM,aAAa,GAAGnI,EAAE,CAAC,IAAIA,EAAE2I,eAAe,MAAM,IAAI8Q,UAAU,oCAAoCjX,EAAE+I,MAAM/I,EAAE+I,MAAM3B,QAAQpH,GAAGxC,EAAE8M,YAAYtK,EAAEqF,KAAK+D,iBAAiB,CAAC,CAAC,uBAAMqN,CAAkBzW,EAAExC,EAAE4C,GAAG,IAAI5C,EAAE,OAAOwC,EAAE,GAAG,MAAMqF,KAAKuN,WAAW,OAAO5S,EAAEoH,QAAQpH,GAAGxC,EAAEwC,KAAK,IAAIK,EAAE,EAAE,MAAMH,EAAE,IAAIyH,MAAMrH,EAAEsC,UAAU,KAAKvC,EAAEL,EAAEkB,QAAQ,CAAC,MAAMf,EAAEH,EAAEK,KAAK7C,EAAE2C,KAAKD,EAAEiF,KAAKhF,GAAGF,EAAEiX,gBAAgBjX,EAAEkX,YAAY9R,KAAKqO,aAAa1T,GAAGM,EAAEN,IAAII,EAAE,GAAG,OAAOiF,KAAKqO,aAAa1T,GAAGM,EAAEN,IAAII,GAAGwR,MAAM,IAAI1R,GAAG,CAAC0U,aAAAA,CAAc5U,GAAG,MAAM2U,aAAanX,EAAE4Z,eAAehX,EAAEiX,aAAahX,GAAGgF,KAAKmN,SAAStS,EAAEG,GAAGD,EAAEE,EAAE,IAAI4G,IAAIjH,EAAEoF,KAAK+D,eAAeS,aAAa,IAAI,MAAM1J,KAAKH,EAAE+I,MAAM,CAAC,MAAM/I,EAAEC,EAAEE,EAAE3C,GAAG4C,EAAEH,EAAEE,EAAED,GAAGG,EAAEC,EAAEkF,IAAIxF,KAAKK,GAAGD,EAAEH,EAAEI,EAAEH,KAAKI,EAAEgH,IAAItH,EAAEG,EAAE,CAACH,EAAE+I,MAAMpB,MAAMC,KAAKtH,EAAEuH,SAAS,CAAC+O,YAAAA,CAAa5W,GAAG,MAAMa,SAASrD,EAAEmZ,WAAWvW,EAAEmP,eAAelP,EAAEmP,eAAetP,EAAE4L,MAAMxL,EAAEgX,WAAWrX,EAAEsX,UAAUpX,GAAGH,EAAE,GAAG,SAASC,IAAIE,EAAE,OAAO,KAAK,MAAMqB,EAAEnB,GAAGH,EAAE,OAAOoO,EAAAA,EAAAA,IAAEhO,MAAKwN,EAAAA,EAAAA,IAAEzI,KAAKf,iBAAiBhE,IAAIkB,EAAEgW,KAAKC,UAAU,CAACja,EAAE4C,EAAEE,IAAIkX,KAAKC,UAAU,CAACja,EAAE4C,GAAG,CAACsW,qBAAAA,CAAsB1W,EAAExC,GAAG,MAAMmZ,WAAWvW,GAAG5C,EAAE,OAAO+G,EAAAA,GAAAA,IAAEvE,KAAK,qCAAqCI,GAAG,sBAAsBiF,KAAK4E,eAAe,6BAA6B7J,GAAG,2BAA2BA,GAAG,CAAC,cAAMkW,CAAStW,EAAExC,GAAG,IAAIA,IAAGsQ,EAAAA,EAAAA,IAAEzI,KAAKf,iBAAiB9G,GAAG,OAAOwC,EAAE,MAAMI,EAAEiF,KAAK+D,eAAe,IAAI/I,EAAE,IAAI,MAAML,QAAQqF,KAAK+P,iBAAiB/U,GAAE2B,EAAAA,EAAAA,mBAAEqD,KAAKf,iBAAiB9G,EAAEwC,EAAE,CAAC,MAAM,CAAC,MAAME,QAAQmH,EAAAA,EAAAA,IAAErH,EAAE+I,MAAMpI,KAAKX,IAAG8D,EAAAA,EAAAA,IAAEuB,KAAK4E,aAAa5E,KAAK6E,KAAK7E,KAAK8E,KAAK/J,EAAEgK,YAAYpK,MAAMqF,KAAKf,iBAAiB9G,EAAE6C,GAAG,OAAOL,EAAE+I,MAAM7I,EAAES,KAAK,CAACnD,EAAE6C,IAAID,EAAEsX,kBAAkB1X,EAAE+I,MAAM1I,IAAGsX,EAAAA,EAAAA,IAAEna,EAAE6H,KAAK6E,KAAK7E,KAAK8E,SAASnK,CAAC,CAAC,qBAAMmU,CAAgBnU,GAAG,MAAMxC,EAAE,IAAIsI,UAAU4L,QAAQC,IAAI3R,EAAEW,KAAKX,GAAGqF,KAAK8M,aAAayF,gBAAgB5X,GAAGA,GAAGxC,EAAEgO,IAAIxL,QAAQ,MAAMI,EAAEuH,MAAMC,KAAKpK,EAAEqK,UAAU,OAAOrK,EAAEoL,QAAQxI,CAAC,CAAC,gCAAM0U,CAA2B9U,EAAExC,EAAE4C,GAAGJ,GAAEE,EAAAA,EAAAA,IAAEF,GAAG,IAAIA,QAAQqF,KAAKuO,WAAW,KAAIrH,EAAAA,GAAAA,IAAEvM,EAAEqF,KAAK6M,qBAAqB7M,KAAKf,mBAAmBlE,GAAGJ,QAAQqF,KAAKqO,aAAa,IDAtgZ9Q,eAAiBpF,EAAE4C,EAAC6M,GAAqE,IAAnEtH,YAAYtF,EAAE4J,aAAa/J,EAAEoE,iBAAiBxD,EAAEoQ,gBAAgB/Q,GAAE8M,EAAE,IAAIzP,EAAEoN,UAAU,GAAG,GAAG,MAAMpN,EAAE2T,mBAAmB3T,EAAE4T,kBAAkB5T,EAAE6T,WAAW7T,EAAE8T,eAAe9T,EAAE+T,MAAM/T,EAAE2N,eAAe3N,EAAE4N,4BAA4B5N,EAAEuJ,QAAQvJ,EAAE8R,cAAc,MAAM,IAAItP,EAAAA,EAAEwB,GAAE,4BAA4B,CAAC+E,MAAM/I,IAAI,OAAOiE,GAAEpB,EAAEF,EAAE3C,GAAGkU,QAAQC,IAAI,CAAC/Q,GAAEP,EAAEF,EAAEC,EAAE5C,IAAG8C,EAAAA,GAAAA,IAAE9C,EAAE0C,EAAEY,IAAGb,EAAAA,EAAAA,IAAEa,EAAEtD,EAAEsO,SAAS8F,MAAM,IAAIpU,GAAG,CCA0nYwN,CAAEhL,EAAExC,EAAE,CAAC0T,gBAAgB7L,KAAK6L,gBAAgBvL,YAAYN,KAAKM,YAAYsE,aAAa5E,KAAK4E,aAAa3F,iBAAiBe,KAAKf,oBAAoBlE,GAAG,MAAMC,QAAQgF,KAAKqO,aAAa,IAAIrO,KAAK4Q,yBAAyBjW,EAAEI,IAAIA,GAAGF,QAAQmF,KAAKqO,aAAa,IAAIrO,KAAK6Q,sBAAsBlW,EAAEK,EAAED,IAAIA,GAAG,aAAaiF,KAAKqO,aAAa,IAAIrO,KAAK8Q,0BAA0BjW,IAAIE,SAASiF,KAAKqO,aAAa,IAAIrO,KAAKiP,uBAAuBpU,IAAIE,SAASiF,KAAKqO,aAAa,IAAIrO,KAAKkP,kBAAkBrU,IAAIE,SAASiF,KAAKqO,aAAa,IAAIrO,KAAKmP,wBAAwBtU,IAAIE,GAAGF,CAAC,CAAC,MAAMG,GAAG,GAAGA,IAAI8S,GAAAA,GAAE,MAAM9S,EAAE,OAAO,IAAI4L,EAAE,GAAGjM,EAAEqF,KAAK,CAAC,EAAE,SAAS+O,GAAEpU,GAAG,IAAGuE,EAAAA,GAAAA,IAAEvE,GAAG,CAAC,IAAGyN,EAAAA,EAAAA,IAAEzN,GAAG,MAAM,EAACY,EAAAA,EAAAA,IAAEL,KAAKwB,IAAI/B,EAAE8T,KAAK9T,EAAE+T,MAAMxT,KAAKwB,IAAI/B,EAAEgU,KAAKhU,EAAEiU,MAAM1T,KAAKqB,IAAI5B,EAAE8T,KAAK9T,EAAE+T,MAAMxT,KAAKqB,IAAI5B,EAAEgU,KAAKhU,EAAEiU,QAAQ,IAAGjT,EAAAA,EAAAA,IAAEhB,GAAG,OAAOA,EAAE6X,MAAMlX,KAAKX,IAAGY,EAAAA,EAAAA,IAAEL,KAAKwB,IAAI/B,EAAE,GAAG,GAAGA,EAAE,GAAG,IAAIO,KAAKwB,IAAI/B,EAAE,GAAG,GAAGA,EAAE,GAAG,IAAIO,KAAKqB,IAAI5B,EAAE,GAAG,GAAGA,EAAE,GAAG,IAAIO,KAAKqB,IAAI5B,EAAE,GAAG,GAAGA,EAAE,GAAG,MAAM,CAAC,MAAM,EAACF,EAAAA,EAAAA,KAAE+B,EAAAA,EAAAA,MAAI7B,GAAG,C","sources":["../node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js","../node_modules/@arcgis/core/smartMapping/statistics/support/utils.js","../node_modules/@arcgis/core/layers/graphics/data/attributeSupport.js","../node_modules/@arcgis/core/core/sql/WhereClauseCache.js","../node_modules/@arcgis/core/layers/graphics/data/QueryEngineCache.js","../node_modules/@arcgis/core/layers/graphics/data/AttributesBuilder.js","../node_modules/@arcgis/core/layers/graphics/data/SnappingCandidate.js","../node_modules/@arcgis/core/layers/graphics/data/QueryEngineResult.js","../node_modules/@arcgis/core/layers/graphics/data/queryValidationUtils.js","../node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!0,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!0,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};export{t as queryCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{pt2px as t}from\"../../../core/screenUtils.js\";import{millisecondsPerTimeUnit as n}from\"../../../core/timeUtils.js\";import r from\"../../../geometry/SpatialReference.js\";import{quantizePoint as o}from\"../../../geometry/support/quantizationUtils.js\";import{isWrappable as i,getInfo as s}from\"../../../geometry/support/spatialReferenceUtils.js\";import{isTimeOnlyField as l,isNumericField as a,numericTypes as u}from\"../../../layers/support/fieldUtils.js\";import{evaluateDensityKernel as f,createValueFunction as c}from\"../../../renderers/support/heatmapUtils.js\";import{isAnyDateField as m}from\"../../support/utils.js\";import{processNullValue as p,getNormalizedValue as d}from\"../../../statistics/utils.js\";import{loadArcade as h}from\"../../../support/arcadeOnDemand.js\";import y from\"../../../geometry/Point.js\";let $=null;const g=/^(?<hh>([0-1][0-9])|([2][0-3])):(?<mm>[0-5][0-9])(:(?<ss>[0-5][0-9]))?([.](?<ms>\\d+))?$/;function j(e,t,n){return e.x<0?e.x+=t:e.x>n&&(e.x-=t),e}function x(e,t,n,r){const l=i(n)?s(n):null,a=l?Math.round((l.valid[1]-l.valid[0])/t.scale[0]):null;return e.map((e=>{const n=new y(e.geometry);return o(t,n,n),e.geometry=l?j(n,a??0,r[0]):n,e}))}function w(e,n=18,r,o,i){const s=new Float64Array(o*i);n=Math.round(t(n));let l=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;const u=c(r);for(const{geometry:t,attributes:c}of e){const{x:e,y:r}=t,m=Math.max(0,e-n),p=Math.max(0,r-n),d=Math.min(i,r+n),h=Math.min(o,e+n),y=+u(c);for(let t=p;t<d;t++)for(let i=m;i<h;i++){const u=t*o+i,c=f(i-e,t-r,n)*y,m=s[u]+=c;l=Math.min(l,m),a=Math.max(a,m)}}return{min:l,max:a}}function I(e){const t=g.exec(e);if(!t)return null;const{hh:r,mm:o,ss:i,ms:s}=t.groups;return Number(r)*n.hours+Number(o)*n.minutes+Number(i)*n.seconds+Number(s||0)}async function b(e,t,n=!0){if(!t)return[];const{field:o,field2:i,field3:s,fieldDelimiter:a,fieldInfos:u,timeZone:f}=e,c=o&&u?.find((e=>e.name.toLowerCase()===o.toLowerCase())),y=!!c&&l(c),g=!!c&&m(c),j=e.valueExpression,x=e.normalizationType,w=e.normalizationField,b=e.normalizationTotal,F=[],N=e.viewInfoParams;let E=null,v=null;if(j){if(!$){const{arcadeUtils:e}=await h();$=e}$.hasGeometryOperations(j)&&await $.enableGeometryOperations(),E=$.createFunction(j),v=N?$.getViewInfo({viewingMode:N.viewingMode,scale:N.scale,spatialReference:new r(N.spatialReference)}):null}const U=e.fieldInfos,M=!(t[0]&&\"declaredClass\"in t[0]&&\"esri.Graphic\"===t[0].declaredClass)&&U?{fields:U}:null;return t.forEach((e=>{const t=e.attributes;let r;if(j){const t=M?{...e,layer:M}:e,n=$.createExecContext(t,v,f);r=$.executeFunction(E,n)}else t&&(r=t[o],i?(r=`${p(r)}${a}${p(t[i])}`,s&&(r=`${r}${a}${p(t[s])}`)):\"string\"==typeof r&&n&&(g?r=r?new Date(r).getTime():null:y&&(r=r?I(r):null)));if(x&&\"number\"==typeof r&&isFinite(r)){const e=t&&parseFloat(t[w]);r=d(r,x,e,b)}F.push(r)})),F}function F(e){const t=e.field,n=e.normalizationType,r=e.normalizationField;let o;return\"field\"===n?o=\"(NOT \"+r+\" = 0)\":\"log\"!==n&&\"natural-log\"!==n&&\"square-root\"!==n||(o=`(${t} > 0)`),o}function N(e,t,n){const r=null!=t?e+\" >= \"+t:\"\",o=null!=n?e+\" <= \"+n:\"\";let i=\"\";return i=r&&o?U(r,o):r||o,i?\"(\"+i+\")\":\"\"}function E(t,n,r,o){let i;return n?n.name!==t.objectIdField&&o.includes(n.type)||(i=new e(r,\"'field' should be one of these types: \"+o.join(\",\"))):i=new e(r,\"'field' is not defined in the layer schema\"),i}function v(t,n,r){let o;return n?n.name!==t.objectIdField&&a(n)||(o=new e(r,\"'field' should be one of these numeric types: \"+u.join(\",\"))):o=new e(r,\"'field' is not defined in the layer schema\"),o}function U(e,t){let n=null!=e?e:\"\";return null!=t&&t&&(n=n?\"(\"+n+\") AND (\"+t+\")\":t),n}function M(t,n){if(t&&\"intersects\"!==t.spatialRelationship)return new e(n,\"Only 'intersects' spatialRelationship is supported for featureFilter\")}function T(t,n,r){const o=z({layer:t,fields:n});if(o.length)return new e(r,\"Unknown fields: \"+o.join(\", \")+\". You can only use fields defined in the layer schema\");const i=O({layer:t,fields:n});return i.length?new e(r,\"Unsupported fields: \"+i.join(\", \")+\". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true\"):void 0}function z(e){const t=e.layer;return e.fields.filter((e=>!t.getField(e)))}function O(e){const t=e.layer;return e.fields.filter((e=>{const n=t.getFieldUsageInfo(e);return!n||!n.supportsStatistics}))}function R(e,t,n){const r=[],o=[],i=[],s=[],l=[];e.forEach(((e,t)=>{const a=e.field?\"field\":\"expression\",u=e.field||e.valueExpression;e.field?(l.push(u),o.push(`var ${a}${t} = Number($feature[\"${u}\"]);`)):(r.push(`function getValueForExpr${t}() {\\n  ${u} \\n}`),o.push(`var ${a}${t} = Number(getValueForExpr${t}());`)),n||i.push(`${a}${t} = IIf(${a}${t} < 0, 0, ${a}${t});`),s.push(`${a}${t}`)}));const a=r.length?null:l.reduce(((e,t)=>`${e} + ${t}`));let u=null;t||n?t?n||a&&(u=`(( ${a} ) >= 0)`):a&&(u=`(( ${a} ) <> 0)`):a&&(u=`(( ${a} ) > 0)`);return{valueExpression:[r.length?r.join(\"\\n\"):\"\",o.join(\"\\n\"),i.join(\"\\n\"),`var total = ${s.join(\" + \")};`,\"return total;\"].filter(Boolean).join(\"\\n\\n\"),sqlExpression:a,sqlWhere:u}}export{w as calculateHeatmapStats,b as getDataValues,N as getRangeExpr,F as getSQLFilterForNormalization,R as getSumOfAttributesExpr,U as mergeWhereClauses,x as quantizeFeatures,I as timeOnlyToMilliseconds,T as verifyBasicFieldValidity,E as verifyFieldType,M as verifyFilterValidity,v as verifyNumericField};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{WhereClauseCache as i}from\"../../../core/sql/WhereClauseCache.js\";import{kebabDict as r}from\"../../support/fieldType.js\";const s=new i(50,500),t=\"unsupported-query\",n=\" as \",o=new Set([\"esriFieldTypeOID\",\"esriFieldTypeSmallInteger\",\"esriFieldTypeBigInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\"]),a=new Set([\"esriFieldTypeDate\",\"esriFieldTypeDateOnly\",\"esriFieldTypeTimeOnly\",\"esriFieldTypeTimestampOffset\"]),l=new Set([\"esriFieldTypeString\",\"esriFieldTypeGUID\",\"esriFieldTypeGlobalID\",...o,...a]);function d(i,r,n={}){const o=c(r,i);if(!o){const n=s.getError(r,i);throw new e(t,\"invalid SQL expression\",{expression:r,error:n})}const a=n.expressionName||\"expression\";if(n.validateStandardized&&!o.isStandardized)throw new e(t,`${a} is not standard`,{expression:r});if(n.validateAggregate&&!o.isAggregate)throw new e(t,`${a} does not contain a valid aggregate function`,{expression:r});return o.fieldNames}function p(e,i,r,s){if(!r)return!0;const t=\"where clause\";return g(e,i,d(e,r,{validateStandardized:!0,expressionName:t}),{expressionName:t,query:s}),!0}function f(i,r,s,n,o){if(!s)return!0;const a=\"having clause\",l=d(i,s,{validateAggregate:!0,expressionName:a});g(i,r,l,{expressionName:a,query:o});const p=c(s,i),f=p?.getExpressions().every((e=>{const{aggregateType:r,field:s}=e,t=i.get(s)?.name;return n.some((e=>{const{onStatisticField:s,statisticType:n}=e,o=i.get(s)?.name;return o===t&&n.toLowerCase().trim()===r}))}));if(!f)throw new e(t,\"expressions in having clause should also exist in outStatistics\",{having:s});return!0}function c(e,i){return e?s.get(e,i):null}function u(e){return/\\((.*?)\\)/.test(e)?e:e.split(n)[0]}function y(e){return e.split(n)[1]}function g(i,r,s,n={}){const o=new Map;if(m(o,i,r,n.allowedFieldTypes??l,s),o.size){const i=n.expressionName??\"expression\";throw new e(t,`${i} contains invalid or missing fields`,{errors:Array.from(o.values()),query:n.query})}}function m(e,i,r,s,t){const n=t.includes(\"*\")?[...r,...t.filter((e=>\"*\"!==e))]:t;for(const a of n){if(i.get(a))T(e,i,r,s,a);else try{const t=d(i,u(a),{validateStandardized:!0});for(const n of t)T(e,i,r,s,n)}catch(o){e.set(a,{type:\"expression-error\",expression:a,error:o})}}}function T(e,i,s,t,n){const o=i.get(n);o?s.has(o.name)?\"all\"!==t&&!1===t?.has(o.type)&&e.set(n,{type:\"invalid-type\",fieldName:o.name,fieldType:r.fromJSON(o.type),allowedFieldTypes:Array.from(t,(e=>r.fromJSON(e)))}):e.set(n,{type:\"missing-field\",fieldName:o.name}):e.set(n,{type:\"invalid-field\",fieldName:n})}export{a as allDateAndTimeFieldTypes,y as getAliasFromFieldName,u as getExpressionFromFieldName,c as getWhereClause,o as numericFieldTypes,g as validateFields,f as validateHaving,p as validateWhere};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{LRUCache as t}from\"../LRUCache.js\";import{WhereClause as e}from\"./WhereClause.js\";class r{constructor(e,r){this._cache=new t(e),this._invalidCache=new t(r)}get(t,r){const i=`${r.uid}:${t}`,c=this._cache.get(i);if(c)return c;if(null!=this._invalidCache.get(i))return null;try{const c=e.create(t,{fieldsIndex:r});return this._cache.put(i,c),c}catch(n){return this._invalidCache.put(i,n),null}}getError(t,e){const r=`${e.uid}:${t}`;return this._invalidCache.get(r)??null}}export{r as WhereClauseCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst e=5;class t{constructor(){this._storage=new Map,this._purgeInterval=e,this._sweep=()=>{if(this._timer=void 0,!this._storage)return;const e=1e3*this._purgeInterval,t=performance.now()-e;for(const[s,r]of this._storage){if(!(r.time<t))return void(this._storage.size>0&&(this._timer=setTimeout(this._sweep,e)));this._storage.delete(s)}}}destroy(){this._storage?.clear(),this._storage=null,clearTimeout(this._timer)}get size(){return this._storage?.size??0}put(e,t){this._storage?.set(e,new r(t)),this._scheduleSweep()}get(e){if(!this._storage)return;const t=this._storage?.get(e);return t?(this._storage?.delete(e),t.time=performance.now(),this._storage?.set(e,t),t.items):void 0}clear(){this._storage?.clear()}_scheduleSweep(){this._storage&&(this._timer??=setTimeout(this._sweep,1e3*this._purgeInterval))}}let s=0;class r{constructor(e){this.items=e,this.time=performance.now(),this.id=s++}}export{t as QueryEngineCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{getExpressionFromFieldName as t,getWhereClause as e,getAliasFromFieldName as i}from\"./attributeSupport.js\";import{getGeometry as s}from\"./geometryUtils.js\";import{isDateOnlyField as a,isTimestampOffsetField as l,isTimeOnlyField as r}from\"../../support/fieldUtils.js\";import{timeOnlyToMilliseconds as n}from\"../../../smartMapping/statistics/support/utils.js\";import{processNullValue as u,getNormalizedValue as o}from\"../../../statistics/utils.js\";import{loadArcade as d}from\"../../../support/arcadeOnDemand.js\";class c{constructor(s,a,l){this._fieldDataCache=new Map,this._returnDistinctMap=new Map,this.returnDistinctValues=s.returnDistinctValues??!1,this.fieldsIndex=l,this.featureAdapter=a;const r=s.outFields;if(r&&!r.includes(\"*\")){this.outFields=r;let s=0;for(const a of r){const r=t(a),n=this.fieldsIndex.get(r),u=n?null:e(r,l),o=n?n.name:i(a)||\"FIELD_EXP_\"+s++;this._fieldDataCache.set(a,{alias:o,clause:u})}}}countDistinctValues(t){return this.returnDistinctValues?(t.forEach((t=>this.getAttributes(t))),this._returnDistinctMap.size):t.length}getAttributes(t){const e=this._processAttributesForOutFields(t);return this._processAttributesForDistinctValues(e)}getFieldValue(t,i,s){const a=s?s.name:i;let l=null;return this._fieldDataCache.has(a)?l=this._fieldDataCache.get(a)?.clause:s||(l=e(i,this.fieldsIndex),this._fieldDataCache.set(a,{alias:a,clause:l})),s?this.featureAdapter.getAttribute(t,a):l?.calculateValue(t,this.featureAdapter)}getDataValues(t,e,i=!0){const s=e.normalizationType,d=e.normalizationTotal,c=this.fieldsIndex.get(e.field),h=a(c)||l(c),f=r(c);return t.map((t=>{let a=e.field&&this.getFieldValue(t,e.field,this.fieldsIndex.get(e.field));if(e.field2?(a=`${u(a)}${e.fieldDelimiter}${u(this.getFieldValue(t,e.field2,this.fieldsIndex.get(e.field2)))}`,e.field3&&(a=`${a}${e.fieldDelimiter}${u(this.getFieldValue(t,e.field3,this.fieldsIndex.get(e.field3)))}`)):\"string\"==typeof a&&i&&(h?a=a?new Date(a).getTime():null:f&&(a=a?n(a):null)),s&&Number.isFinite(a)){const i=\"field\"===s&&e.normalizationField?this.getFieldValue(t,e.normalizationField,this.fieldsIndex.get(e.normalizationField)):null;a=o(a,s,i,d)}return a}))}async getExpressionValues(t,e,i,a,l){const{arcadeUtils:r}=await d(),n=r.hasGeometryOperations(e);n&&await r.enableGeometryOperations();const u=r.createFunction(e),o=r.getViewInfo(i),c={fields:this.fieldsIndex.fields};return t.map((t=>{const e={attributes:this.featureAdapter.getAttributes(t),layer:c,geometry:n?{...s(a.geometryType,a.hasZ,a.hasM,this.featureAdapter.getGeometry(t)),spatialReference:i?.spatialReference}:null},d=r.createExecContext(e,o,l);return r.executeFunction(u,d)}))}validateItem(t,i){return this._fieldDataCache.has(i)||this._fieldDataCache.set(i,{alias:i,clause:e(i,this.fieldsIndex)}),this._fieldDataCache.get(i)?.clause?.testFeature(t,this.featureAdapter)??!1}validateItems(t,i){return this._fieldDataCache.has(i)||this._fieldDataCache.set(i,{alias:i,clause:e(i,this.fieldsIndex)}),this._fieldDataCache.get(i)?.clause?.testSet(t,this.featureAdapter)??!1}_processAttributesForOutFields(t){const e=this.outFields;if(!e?.length)return this.featureAdapter.getAttributes(t);const i={};for(const s of e){const{alias:e,clause:a}=this._fieldDataCache.get(s);i[e]=a?a.calculateValue(t,this.featureAdapter):this.featureAdapter.getAttribute(t,e)}return i}_processAttributesForDistinctValues(t){if(null==t||!this.returnDistinctValues)return t;const e=this.outFields,i=[];if(e)for(const l of e){const{alias:e}=this._fieldDataCache.get(l);i.push(t[e])}else for(const l in t)i.push(t[l]);const s=`${(e||[\"*\"]).join(\",\")}=${i.join(\",\")}`;let a=this._returnDistinctMap.get(s)||0;return this._returnDistinctMap.set(s,++a),a>1?null:t}}export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction t(t,e,r){return{objectId:t,target:e,distance:r,type:\"vertex\"}}function e(t,e,r,n,d,a=!1){return{objectId:t,target:e,distance:r,type:\"edge\",start:n,end:d,draped:a}}export{e as makeEdgeCandidate,t as makeVertexCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../core/lang.js\";import{polygonCentroid as t,extentCentroid as s}from\"../../../geometry/support/centroid.js\";import{getPolygonExtent as i,getGeometryExtent as a}from\"../../../geometry/support/extentUtils.js\";import{toQuantizationTransform as r}from\"../../../geometry/support/quantizationUtils.js\";import{isValid as n,equals as o}from\"../../../geometry/support/spatialReferenceUtils.js\";import l from\"./AttributesBuilder.js\";import{cleanFromGeometryEngine as u,getGeometry as c,transformCentroid as d}from\"./geometryUtils.js\";import{project as m}from\"./projectionSupport.js\";import{makeEdgeCandidate as h,makeVertexCandidate as g}from\"./SnappingCandidate.js\";import{isDateField as p,isDateOnlyField as f,isTimestampOffsetField as y,isStringField as x,isTimeOnlyField as I}from\"../../support/fieldUtils.js\";import{isNullCountSupported as T,calculateStringStatistics as V,calculateStatistics as F,processSummaryStatisticsResult as S,calculateUniqueValuesCount as _,createUVResult as v,calculateClassBreaks as b,resolveCBResult as R,calculateHistogram as A,getAttributeComparator as z,calculatePercentile as M}from\"../../../statistics/utils.js\";class q{constructor(e,t,s){this.items=e,this.query=t,this.geometryType=s.geometryType,this.hasM=s.hasM,this.hasZ=s.hasZ,this.fieldsIndex=s.fieldsIndex,this.objectIdField=s.objectIdField,this.spatialReference=s.spatialReference,this.featureAdapter=s.featureAdapter}get size(){return this.items.length}createQueryResponseForCount(){const e=new l(this.query,this.featureAdapter,this.fieldsIndex);if(!this.query.outStatistics)return e.countDistinctValues(this.items);const{groupByFieldsForStatistics:t,having:s,outStatistics:i}=this.query,a=t?.length;if(!!!a)return 1;const r=new Map,n=new Map,o=new Set;for(const l of i){const{statisticType:i}=l,a=\"exceedslimit\"!==i?l.onStatisticField:void 0;if(!n.has(a)){const s=[];for(const i of t){const t=this._getAttributeValues(e,i,r);s.push(t)}n.set(a,this._calculateUniqueValues(s,e.returnDistinctValues))}const u=n.get(a);for(const t in u){const{data:i,items:a}=u[t],r=i.join(\",\");s&&!e.validateItems(a,s)||o.add(r)}}return o.size}async createQueryResponse(){let e;if(this.query.outStatistics){e=this.query.outStatistics.some((e=>\"exceedslimit\"===e.statisticType))?this._createExceedsLimitQueryResponse(this.query):await this._createStatisticsQueryResponse(this.query)}else e=this._createFeatureQueryResponse(this.query);if(this.query.returnQueryGeometry){const t=this.query.geometry;n(this.query.outSR)&&!o(t.spatialReference,this.query.outSR)?e.queryGeometry=u({spatialReference:this.query.outSR,...m(t,t.spatialReference,this.query.outSR)}):e.queryGeometry=u({spatialReference:this.query.outSR,...t})}return e}createSnappingResponse(e,t){const s=this.featureAdapter,i=C(this.hasZ,this.hasM),{point:a,mode:r}=e,n=\"number\"==typeof e.distance?e.distance:e.distance.x,o=\"number\"==typeof e.distance?e.distance:e.distance.y,l={candidates:[]},u=\"esriGeometryPolygon\"===this.geometryType,c=this._getPointCreator(r,this.spatialReference,t),d=new G(null,0),m=new G(null,0),p={x:0,y:0,z:0};for(const f of this.items){const t=s.getGeometry(f);if(null==t)continue;const{coords:r,lengths:y}=t;if(d.coords=r,m.coords=r,e.returnEdge){let e=0;for(let t=0;t<y.length;t++){const r=y[t];for(let t=0;t<r;t++,e+=i){const u=d;if(u.coordsIndex=e,t!==r-1){const t=m;t.coordsIndex=e+i;const r=p;N(p,a,u,t);const d=(a.x-r.x)/n,g=(a.y-r.y)/o,y=d*d+g*g;y<=1&&l.candidates.push(h(s.getObjectId(f),c(r),Math.sqrt(y),c(u),c(t)))}}}}if(\"none\"!==e.vertexMode){const t=u?r.length-i:r.length;if(\"all\"===e.vertexMode)for(let e=0;e<t;e+=i){const t=d;t.coordsIndex=e;const i=(a.x-t.x)/n,r=(a.y-t.y)/o,u=i*i+r*r;u<=1&&l.candidates.push(g(s.getObjectId(f),c(t),Math.sqrt(u)))}else if(\"ends\"===e.vertexMode){const e=[0];u||e.push(r.length-i);for(const t of e){const e=d;e.coordsIndex=t;const i=(a.x-e.x)/n,r=(a.y-e.y)/o,u=i*i+r*r;u<=1&&l.candidates.push(g(s.getObjectId(f),c(e),Math.sqrt(u)))}}}}return l.candidates.sort(((e,t)=>e.distance-t.distance)),l}_getPointCreator(e,t,s){const i=null==s||o(t,s)?e=>e:e=>m(e,t,s),{hasZ:a}=this,r=0;return\"3d\"===e?a?({x:e,y:t,z:s})=>i({x:e,y:t,z:s}):({x:e,y:t})=>i({x:e,y:t,z:r}):({x:e,y:t})=>i({x:e,y:t})}async createSummaryStatisticsResponse(e){const{field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,minValue:n,maxValue:o,scale:l,timeZone:u,outStatisticTypes:c}=e,d=this.fieldsIndex.get(t),m=p(d)||f(d)||y(d),h=await this._getDataValues({field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,scale:l,timeZone:u}),g=T({normalizationType:a,normalizationField:i,minValue:n,maxValue:o}),I={value:.5,fieldType:d?.type},_=x(d)?V({values:h,supportsNullCount:g,percentileParams:I,outStatisticTypes:c}):F({values:h,minValue:n,maxValue:o,useSampleStdDev:!a,supportsNullCount:g,percentileParams:I,outStatisticTypes:c});return S(_,c,m)}async createUniqueValuesResponse(e){const{field:t,valueExpression:s,domains:i,returnAllCodedValues:a,scale:r,timeZone:n}=e,o=await this._getDataValues({field:t,field2:e.field2,field3:e.field3,fieldDelimiter:e.fieldDelimiter,valueExpression:s,scale:r,timeZone:n},!1),l=_(o);return v(l,i,a,e.fieldDelimiter)}async createClassBreaksResponse(e){const{field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numClasses:c,scale:d,timeZone:m}=e,h=await this._getDataValues({field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,scale:d,timeZone:m}),g=b(h,{field:t,normalizationField:i,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numClasses:c});return R(g,n)}async createHistogramResponse(e){const{field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numBins:c,scale:d,timeZone:m}=e,h=await this._getDataValues({field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,scale:d,timeZone:m});return A(h,{field:t,normalizationField:i,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numBins:c})}_sortFeatures(e,t,s){if(e.length>1&&t?.length)for(const i of t.reverse()){const t=i.split(\" \"),a=t[0],r=this.fieldsIndex.get(a),n=!!t[1]&&\"desc\"===t[1].toLowerCase(),o=z(r?.type,n);e.sort(((e,t)=>{const i=s(e,a,r),n=s(t,a,r);return o(i,n)}))}}_createFeatureQueryResponse(e){const t=this.items,{geometryType:s,hasM:i,hasZ:a,objectIdField:n,spatialReference:o}=this,{outFields:l,outSR:c,quantizationParameters:d,resultRecordCount:m,resultOffset:h,returnZ:g,returnM:p}=e,f=null!=m&&t.length>(h||0)+m,y=l&&(l.includes(\"*\")?[...this.fieldsIndex.fields]:l.map((e=>this.fieldsIndex.get(e))));return{exceededTransferLimit:f,features:this._createFeatures(e,t),fields:y,geometryType:s,hasM:i&&p,hasZ:a&&g,objectIdFieldName:n,spatialReference:u(c||o),transform:d&&r(d)||null}}_createFeatures(e,t){const s=new l(e,this.featureAdapter,this.fieldsIndex),{hasM:i,hasZ:a}=this,{orderByFields:n,quantizationParameters:o,returnGeometry:u,returnCentroid:m,maxAllowableOffset:h,resultOffset:g,resultRecordCount:p,returnZ:f=!1,returnM:y=!1}=e,x=a&&f,I=i&&y;let T=[],V=0;const F=[...t];if(this._sortFeatures(F,n,((e,t,i)=>s.getFieldValue(e,t,i))),this.geometryType&&(u||m)){const e=r(o)??void 0,t=\"esriGeometryPolygon\"===this.geometryType||\"esriGeometryPolyline\"===this.geometryType;if(u&&!m)for(const i of F){const a=this.featureAdapter.getGeometry(i),r={attributes:s.getAttributes(i),geometry:c(this.geometryType,this.hasZ,this.hasM,a,h,e,x,I)};t&&a&&!r.geometry&&(r.centroid=d(this,this.featureAdapter.getCentroid(i,this),e)),T[V++]=r}else if(!u&&m)for(const i of F)T[V++]={attributes:s.getAttributes(i),centroid:d(this,this.featureAdapter.getCentroid(i,this),e)};else for(const i of F)T[V++]={attributes:s.getAttributes(i),centroid:d(this,this.featureAdapter.getCentroid(i,this),e),geometry:c(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(i),h,e,x,I)}}else for(const r of F){const e=s.getAttributes(r);e&&(T[V++]={attributes:e})}const S=g||0;if(null!=p){const e=S+p;T=T.slice(S,Math.min(T.length,e))}return T}_createExceedsLimitQueryResponse(e){let t=!1,s=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;for(const r of e.outStatistics??[])if(\"exceedslimit\"===r.statisticType){s=null!=r.maxPointCount?r.maxPointCount:Number.POSITIVE_INFINITY,i=null!=r.maxRecordCount?r.maxRecordCount:Number.POSITIVE_INFINITY,a=null!=r.maxVertexCount?r.maxVertexCount:Number.POSITIVE_INFINITY;break}if(\"esriGeometryPoint\"===this.geometryType)t=this.items.length>s;else if(this.items.length>i)t=!0;else{const e=C(this.hasZ,this.hasM),s=this.featureAdapter;t=this.items.reduce(((e,t)=>{const i=s.getGeometry(t);return e+(null!=i&&i.coords.length||0)}),0)/e>a}return{fields:[{name:\"exceedslimit\",type:\"esriFieldTypeInteger\",alias:\"exceedslimit\",sqlType:\"sqlTypeInteger\",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(t)}}]}}async _createStatisticsQueryResponse(e){const t={attributes:{}},s=[],i=new Map,a=new Map,r=new Map,n=new Map,o=new l(e,this.featureAdapter,this.fieldsIndex),u=e.outStatistics,{groupByFieldsForStatistics:c,having:d,orderByFields:m,resultRecordCount:h}=e,g=c?.length,p=!!g,f=p?c[0]:null,y=p&&!this.fieldsIndex.get(f);for(const l of u??[]){const{outStatisticFieldName:e,statisticType:u}=l,m=l,h=\"exceedslimit\"!==u?l.onStatisticField:void 0,I=\"percentile_disc\"===u||\"percentile_cont\"===u,T=\"EnvelopeAggregate\"===u||\"CentroidAggregate\"===u||\"ConvexHullAggregate\"===u,V=p&&1===g&&(h===f||y)&&\"count\"===u;if(p){if(!r.has(h)){const e=[];for(const t of c){const s=this._getAttributeValues(o,t,i);e.push(s)}r.set(h,this._calculateUniqueValues(e,!T&&o.returnDistinctValues))}const t=r.get(h);if(!t)continue;const s=Object.keys(t);for(const a of s){const{count:s,data:r,items:l,itemPositions:u}=t[a],g=r.join(\",\");if(!d||o.validateItems(l,d)){const t=n.get(g)||{attributes:{}};if(T){t.aggregateGeometries||(t.aggregateGeometries={});const{aggregateGeometries:e,outStatisticFieldName:s}=await this._getAggregateGeometry(m,l);t.aggregateGeometries[s]=e}else{let a=null;if(V)a=s;else{const e=this._getAttributeValues(o,h,i),t=u.map((t=>e[t]));a=I&&\"statisticParameters\"in m?this._getPercentileValue(m,t):this._getStatisticValue(m,t,null,o.returnDistinctValues)}t.attributes[e]=a}let a=0;c.forEach(((e,s)=>t.attributes[this.fieldsIndex.get(e)?e:\"EXPR_\"+ ++a]=r[s])),n.set(g,t)}}}else if(T){t.aggregateGeometries||(t.aggregateGeometries={});const{aggregateGeometries:e,outStatisticFieldName:s}=await this._getAggregateGeometry(m,this.items);t.aggregateGeometries[s]=e}else{const s=this._getAttributeValues(o,h,i);t.attributes[e]=I&&\"statisticParameters\"in m?this._getPercentileValue(m,s):this._getStatisticValue(m,s,a,o.returnDistinctValues)}const F=\"min\"!==u&&\"max\"!==u||!x(this.fieldsIndex.get(h))&&!this._isAnyDateField(h)?null:this.fieldsIndex.get(h)?.type;s.push({name:e,alias:e,type:F||\"esriFieldTypeDouble\"})}const I=p?Array.from(n.values()):[t];return this._sortFeatures(I,m,((e,t)=>e.attributes[t])),h&&(I.length=Math.min(h,I.length)),{fields:s,features:I}}_isAnyDateField(e){const t=this.fieldsIndex.get(e);return p(t)||f(t)||y(t)||I(t)}async _getAggregateGeometry(e,r){const{convexHull:n,union:o}=await import(\"../../../geometry/geometryEngineJSON.js\"),{statisticType:l,outStatisticFieldName:u}=e,{featureAdapter:d,spatialReference:m,geometryType:h,hasZ:g,hasM:p}=this,f=r.map((e=>c(h,g,p,d.getGeometry(e)))),y=n(m,f,!0)[0],x={aggregateGeometries:null,outStatisticFieldName:null};if(\"EnvelopeAggregate\"===l){const e=y?i(y):a(o(m,f));x.aggregateGeometries={...e,spatialReference:m},x.outStatisticFieldName=u||\"extent\"}else if(\"CentroidAggregate\"===l){const e=y?t(y):s(a(o(m,f)));x.aggregateGeometries={x:e[0],y:e[1],spatialReference:m},x.outStatisticFieldName=u||\"centroid\"}else\"ConvexHullAggregate\"===l&&(x.aggregateGeometries=y,x.outStatisticFieldName=u||\"convexHull\");return x}_getStatisticValue(e,t,s,i){const{onStatisticField:a,statisticType:r}=e;let n=null;n=s?.has(a)?s.get(a):x(this.fieldsIndex.get(a))||this._isAnyDateField(a)?V({values:t,returnDistinct:i}):F({values:i?[...new Set(t)]:t,minValue:null,maxValue:null,useSampleStdDev:!0}),s&&s.set(a,n);return n[\"var\"===r?\"variance\":r]}_getPercentileValue(e,t){const{onStatisticField:s,statisticParameters:i,statisticType:a}=e,{value:r,orderBy:n}=i,o=this.fieldsIndex.get(s);return M(t,{value:r,orderBy:n,fieldType:o?.type,isDiscrete:\"percentile_disc\"===a})}_getAttributeValues(e,t,s){if(s.has(t))return s.get(t);const i=this.fieldsIndex.get(t),a=this.items.map((s=>e.getFieldValue(s,t,i)));return s.set(t,a),a}_calculateUniqueValues(e,t){const s={},i=this.items,a=i.length;for(let r=0;r<a;r++){const a=i[r],n=[];for(const t of e)n.push(t[r]);const o=n.join(\",\");null==s[o]?s[o]={count:1,data:n,items:[a],itemPositions:[r]}:(t||s[o].count++,s[o].items.push(a),s[o].itemPositions.push(r))}return s}async _getDataValues(t,s=!0){const i=new l(this.query,this.featureAdapter,this.fieldsIndex),{valueExpression:a,scale:r,timeZone:n}=t;return a?i.getExpressionValues(this.items,a,{viewingMode:\"map\",scale:r,spatialReference:this.query.outSR||this.spatialReference},{geometryType:this.geometryType,hasZ:this.hasZ,hasM:this.hasM},n):i.getDataValues(this.items,e(t),s)}}function N(e,t,s,i){const a=i.x-s.x,r=i.y-s.y,n=a*a+r*r,o=(t.x-s.x)*a+(t.y-s.y)*r,l=Math.min(1,Math.max(0,o/n));e.x=s.x+a*l,e.y=s.y+r*l}function C(e,t){return e?t?4:3:t?3:2}class G{constructor(e,t){this.coords=e,this.coordsIndex=t}get x(){return this.coords[this.coordsIndex]}get y(){return this.coords[this.coordsIndex+1]}get z(){return this.coords[this.coordsIndex+2]}}export{q as QueryEngineResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{numericFieldTypes as t,allDateAndTimeFieldTypes as i,validateFields as s,validateWhere as r,validateHaving as o}from\"./attributeSupport.js\";import{checkProjectionSupport as n}from\"./projectionSupport.js\";import{checkSpatialQuerySupport as a}from\"./spatialQuerySupport.js\";import{loadArcade as l}from\"../../../support/arcadeOnDemand.js\";const u=\"unsupported-query\";async function p(t,{fieldsIndex:i,geometryType:s,spatialReference:r,availableFields:o}){if((t.distance??0)<0||null!=t.geometryPrecision||t.multipatchOption&&\"xyFootprint\"!==t.multipatchOption||t.pixelSize||t.relationParam||t.text)throw new e(u,\"Unsupported query options\",{query:t});return c(i,o,t),f(i,o,t),Promise.all([a(t,s,r),n(r,t.outSR)]).then((()=>t))}function c(t,i,o){const{outFields:n,orderByFields:a,returnDistinctValues:l,outStatistics:p}=o,c=p?p.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())).filter(Boolean):[];if(a&&a.length>0){const e=\" asc\",r=\" desc\",n=a.map((t=>{const i=t.toLowerCase();return i.includes(e)?i.split(e)[0]:i.includes(r)?i.split(r)[0]:t})).filter((e=>!c.includes(e)));s(t,i,n,{expressionName:\"orderByFields\",query:o})}if(n&&n.length>0)s(t,i,n,{expressionName:\"outFields\",query:o,allowedFieldTypes:\"all\"});else if(l)throw new e(u,\"outFields should be specified for returnDistinctValues\",{query:o});r(t,i,o.where,o)}const d=new Set([...t,...i]);function f(t,i,r){const{outStatistics:n,groupByFieldsForStatistics:a,having:l}=r,p=a?.length,c=n?.length;if(l){if(!p||!c)throw new e(u,\"outStatistics and groupByFieldsForStatistics should be specified with having\",{query:r});o(t,i,l,n,r)}if(c){if(!h(n))return;const o=n.map((e=>e.onStatisticField)).filter(Boolean);s(t,i,o,{expressionName:\"onStatisticFields\",query:r}),p&&s(t,i,a,{expressionName:\"groupByFieldsForStatistics\",query:r});for(const a of n){const{onStatisticField:o,statisticType:n}=a;if((\"percentile_disc\"===n||\"percentile_cont\"===n)&&\"statisticParameters\"in a){const{statisticParameters:t}=a;if(!t)throw new e(u,\"statisticParameters should be set for percentile type\",{definition:a,query:r})}else t.get(o)&&\"count\"!==n&&\"min\"!==n&&\"max\"!==n&&s(t,i,[o],{expressionName:`outStatistics with '${n}' statistic type`,allowedFieldTypes:d,query:r})}}}async function m(t,i,{fieldsIndex:s,geometryType:r,spatialReference:o,availableFields:l}){if((t.distance??0)<0||null!=t.geometryPrecision||t.multipatchOption||t.pixelSize||t.relationParam||t.text||t.outStatistics||t.groupByFieldsForStatistics||t.having||t.orderByFields)throw new e(u,\"Unsupported query options\",{query:t});return c(s,l,t),Promise.all([y(s,l,i,t),a(t,r,o),n(o,t.outSR)]).then((()=>t))}async function y(t,i,r,o){let n=[];if(r.valueExpression){const{arcadeUtils:e}=await l();n=e.extractFieldNames(r.valueExpression)}if(r.field&&n.push(r.field),r.field2&&n.push(r.field2),r.field3&&n.push(r.field3),r.normalizationField&&n.push(r.normalizationField),!n.length&&!r.valueExpression)throw new e(u,\"field or valueExpression is required\",{params:r});s(t,i,n,{expressionName:\"statistics\",query:o})}function h(e){return null!=e&&e.every((e=>\"exceedslimit\"!==e.statisticType))}export{p as validateQuery,m as validateStatisticsQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{indexOf as e,PositionHint as t}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Error.js\";import{isSerializable as s}from\"../../../core/JSONSupport.js\";import{clone as r}from\"../../../core/lang.js\";import{removeMaybe as a,destroyMaybe as n}from\"../../../core/maybe.js\";import{signalFromSignalOrOptions as l,throwIfAborted as u}from\"../../../core/promiseUtils.js\";import{getMetersPerUnitForSR as o}from\"../../../core/unitUtils.js\";import{getTransformation as h}from\"../../../geometry/projection.js\";import{set as c,negativeInfinity as m,create as f,expandWithAABB as d}from\"../../../geometry/support/aaBoundingBox.js\";import{fromValues as y,create as p}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as g}from\"../../../geometry/support/boundsUtils.js\";import{fromJSON as x,isExtent as _,isPolygon as w}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as F}from\"../../../geometry/support/normalizeUtils.js\";import{equals as S,isValid as R}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as Q}from\"../featureConversionUtils.js\";import{getWhereClause as I}from\"./attributeSupport.js\";import{cleanFromGeometryEngine as j,getGeometry as E}from\"./geometryUtils.js\";import{checkProjectionSupport as b,project as A,projectMany as T}from\"./projectionSupport.js\";import{QueryEngineCache as v}from\"./QueryEngineCache.js\";import{queryCapabilities as M}from\"./QueryEngineCapabilities.js\";import{QueryEngineResult as C}from\"./QueryEngineResult.js\";import{queryEngineEmptyResult as O,normalizeQueryLike as P,normalizeQuery as z}from\"./queryUtils.js\";import{validateQuery as G,validateStatisticsQuery as q}from\"./queryValidationUtils.js\";import{getSpatialQueryOperator as k,canQueryWithRBush as U}from\"./spatialQuerySupport.js\";import{getTimeExtent as Z,getTimeOperator as B}from\"./timeSupport.js\";import H from\"../../support/FieldsIndex.js\";import{noBudget as J}from\"../../../views/support/Scheduler.js\";const N=\"unsupported-query\";class L{constructor(e,t=null,i,s,r){this.attributes=e,this.geometry=i,this.centroid=s,this.filterFlags=r,this.groupId=-1,this.displayId=t}}class V{constructor(e){this._cache=new v,this._changeHandle=null,this.capabilities={query:M},this.geometryType=e.geometryType,this.hasM=!!e.hasM,this.hasZ=!!e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._changeHandle=this.featureStore.events.on(\"changed\",(()=>this.clearCache())),this.timeInfo=e.timeInfo,this.fieldsIndex=s(e.fieldsIndex)?e.fieldsIndex:H.fromJSON(e.fieldsIndex),!e.availableFields||1===e.availableFields.length&&\"*\"===e.availableFields[0]?this.availableFields=new Set(this.fieldsIndex.fields.map((e=>e.name))):this.availableFields=new Set(e.availableFields.map((e=>this.fieldsIndex.get(e)?.name)).filter((e=>null!=e))),e.scheduler&&e.priority&&(this._frameTask=e.scheduler.registerTask(e.priority))}destroy(){this._frameTask=a(this._frameTask),this.clearCache(),n(this._cache),this._changeHandle=a(this._changeHandle)}get featureAdapter(){return this.featureStore.featureAdapter}clearCache(){this._cache.clear(),this._allFeaturesPromise=null,this._timeExtentPromise=null,this._fullExtentPromise=null}async executeQuery(e,t){const i=l(t);try{const t=await this._executeQuery(e,{},i);return await t.createQueryResponse()}catch(s){if(s!==O)throw s;return new C([],e,this).createQueryResponse()}}async executeQueryForCount(e={},t){const i=l(t);try{return(await this._executeQuery(e,{returnGeometry:!1,returnCentroid:!1,outSR:null},i)).createQueryResponseForCount()}catch(s){if(s!==O)throw s;return 0}}async executeQueryForExtent(e,t){const i=l(t),s=e.outSR;try{const t=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},i),r=t.size;if(!r)return{count:0,extent:null};return{count:r,extent:await this._getBounds(t.items,t.spatialReference,s||this.spatialReference)}}catch(r){if(r===O)return{count:0,extent:null};throw r}}async executeQueryForIds(e,t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(e,t){const i=l(t);try{const t=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},i),s=t.items,r=new Set;return await this._reschedule((()=>{for(const e of s)r.add(t.featureAdapter.getObjectId(e))}),i),r}catch(s){if(s===O)return new Set;throw s}}async executeQueryForSnapping(e,t){const i=l(t),{point:s,distance:a,returnEdge:n,vertexMode:u}=e;if(!n&&\"none\"===u)return{candidates:[]};let o=r(e.query);o=await this._schedule((()=>P(o,this.definitionExpression,this.spatialReference)),i),o=await this._reschedule((()=>G(o,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),i);const h=!S(s.spatialReference,this.spatialReference);h&&await b(s.spatialReference,this.spatialReference);const c=\"number\"==typeof a?a:a.x,m=\"number\"==typeof a?a:a.y,f={xmin:s.x-c,xmax:s.x+c,ymin:s.y-m,ymax:s.y+m,spatialReference:s.spatialReference},d=h?A(f,this.spatialReference):f;if(!d)return{candidates:[]};const y=(await F(x(s),null,{signal:i}))[0],p=(await F(x(d),null,{signal:i}))[0];if(null==y||null==p)return{candidates:[]};const g=new C(await this._reschedule((()=>this._searchFeatures(D(p.toJSON()))),i),o,this);await this._reschedule((()=>this._executeObjectIdsQuery(g)),i),await this._reschedule((()=>this._executeTimeQuery(g)),i),await this._reschedule((()=>this._executeAttributesQuery(g)),i),await this._reschedule((()=>this._executeGeometryQueryForSnapping(g,i)),i);const _=y.toJSON(),w=h?A(_,this.spatialReference):_,R=h?Math.max(d.xmax-d.xmin,d.ymax-d.ymin)/2:a;return g.createSnappingResponse({...e,point:w,distance:R},s.spatialReference)}async executeQueryForLatestObservations(e,t){const s=l(t);if(!this.timeInfo?.trackIdField)throw new i(N,\"Missing timeInfo or timeInfo.trackIdField\",{query:e,timeInfo:this.timeInfo});try{const t=await this._executeQuery(e,{},s);return await this._reschedule((()=>this._filterLatest(t)),s),await t.createQueryResponse()}catch(r){if(r!==O)throw r;return new C([],e,this).createQueryResponse()}}async executeQueryForSummaryStatistics(e={},t,i){const s=l(i),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},s)).createSummaryStatisticsResponse(t)}async executeQueryForUniqueValues(e={},t,i){const s=l(i),{field:r,field2:a,field3:n,valueExpression:u}=t;return(await this._executeQueryForStatistics(e,{field:r,field2:a,field3:n,valueExpression:u},s)).createUniqueValuesResponse(t)}async executeQueryForClassBreaks(e={},t,i){const s=l(i),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},s)).createClassBreaksResponse(t)}async executeQueryForHistogram(e={},t,i){const s=l(i),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},s)).createHistogramResponse(t)}async fetchRecomputedExtents(e){const t=l(e);this._timeExtentPromise||=Z(this.timeInfo,this.featureStore);const[i,s]=await Promise.all([this._getFullExtent(),this._timeExtentPromise]);return u(t),{fullExtent:i,timeExtent:s}}async _getBounds(e,t,i){const s=c(f(),m);await this.featureStore.forEachBounds(e,(e=>d(s,e)));const r={xmin:s[0],ymin:s[1],xmax:s[3],ymax:s[4],spatialReference:j(this.spatialReference)};this.hasZ&&isFinite(s[2])&&isFinite(s[5])&&(r.zmin=s[2],r.zmax=s[5],r.hasZ=!0);const a=A(r,t,i);if(a.spatialReference=j(i),a.xmax-a.xmin==0){const e=o(a.spatialReference);a.xmin-=e,a.xmax+=e}if(a.ymax-a.ymin==0){const e=o(a.spatialReference);a.ymin-=e,a.ymax+=e}if(this.hasZ&&null!=a.zmin&&null!=a.zmax&&a.zmax-a.zmin==0){const e=o(a.spatialReference);a.zmin-=e,a.zmax+=e}return a}_getFullExtent(){return this._fullExtentPromise||=\"getFullExtent\"in this.featureStore&&this.featureStore.getFullExtent?Promise.resolve(this.featureStore.getFullExtent(this.spatialReference)):this._getAllFeatures().then((e=>this._getBounds(e,this.spatialReference,this.spatialReference))),this._fullExtentPromise}async _schedule(e,t){return null!=this._frameTask?this._frameTask.schedule(e,t):e(J)}async _reschedule(e,t){return null!=this._frameTask?this._frameTask.reschedule(e,t):e(J)}async _getAllFeaturesQueryEngineResult(e){return new C(await this._getAllFeatures(),e,this)}async _getAllFeatures(){if(null==this._allFeaturesPromise){const e=[];this._allFeaturesPromise=(async()=>{await this.featureStore.forEach((t=>e.push(t)))})().then((()=>e))}const e=this._allFeaturesPromise,t=await e;return e===this._allFeaturesPromise?t.slice():this._getAllFeatures()}async _executeQuery(e,t,i){e=r(e),e=await this._schedule((()=>z(e,this.definitionExpression,this.spatialReference)),i),e=await this._reschedule((()=>G(e,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),i),e={...e,...t};const s=await this._reschedule((()=>this._executeSceneFilterQuery(e,i)),i),a=await this._reschedule((()=>this._executeGeometryQuery(e,s,i)),i);return await this._reschedule((()=>this._executeAggregateIdsQuery(a)),i),await this._reschedule((()=>this._executeObjectIdsQuery(a)),i),await this._reschedule((()=>this._executeTimeQuery(a)),i),await this._reschedule((()=>this._executeAttributesQuery(a)),i),a}async _executeSceneFilterQuery(e,t){if(null==e.sceneFilter)return null;const{outSR:i,returnGeometry:s,returnCentroid:r}=e,a=this.featureStore.featureSpatialReference,n=e.sceneFilter.geometry,l=null==a||S(a,n.spatialReference)?n:A(n,a);if(!l)return null;const u=s||r,o=R(i)&&!S(this.spatialReference,i)&&u?async e=>this._project(e,i):e=>e,h=this.featureAdapter,c=await this._reschedule((()=>this._searchFeatures(D(l))),t);if(\"disjoint\"===e.sceneFilter.spatialRelationship){if(!c.length)return null;const i=new Set;for(const e of c)i.add(h.getObjectId(e));const s=await this._reschedule((()=>this._getAllFeatures()),t),r=await this._reschedule((async()=>{const r=await k(\"esriSpatialRelDisjoint\",l,this.geometryType,this.hasZ,this.hasM),a=e=>!i.has(h.getObjectId(e))||r(h.getGeometry(e)),n=await this._runSpatialFilter(s,a,t);return new C(n,e,this)}),t);return o(r)}if(!c.length)return new C([],e,this);if(this._canExecuteSinglePass(l,e))return o(new C(c,e,this));const m=await k(\"esriSpatialRelContains\",l,this.geometryType,this.hasZ,this.hasM),f=await this._runSpatialFilter(c,(e=>m(h.getGeometry(e))),t);return o(new C(f,e,this))}async _executeGeometryQuery(i,s,r){if(null!=s&&0===s.items.length)return s;i=null!=s?s.query:i;const{geometry:a,outSR:n,spatialRel:l,returnGeometry:u,returnCentroid:o}=i,h=this.featureStore.featureSpatialReference,c=!a||null==h||S(h,a.spatialReference)?a:A(a,h),m=u||o,f=R(n)&&!S(this.spatialReference,n),d=null==s?this._getCacheKey(i):null,y=d?this._cache.get(d):null;if(null!=y)return new C(y,i,this);const p=async e=>(f&&m&&await this._project(e,n),d&&this._cache.put(d,e.items),e);if(!c)return p(null!=s?s:await this._getAllFeaturesQueryEngineResult(i));const g=this.featureAdapter;let x=await this._reschedule((()=>this._searchFeatures(D(a))),r);if(\"esriSpatialRelDisjoint\"===l){if(!x.length)return p(null!=s?s:await this._getAllFeaturesQueryEngineResult(i));const e=new Set;for(const i of x)e.add(g.getObjectId(i));const t=null!=s?s.items:await this._reschedule((()=>this._getAllFeatures()),r),a=await this._reschedule((async()=>{const s=await k(l,c,this.geometryType,this.hasZ,this.hasM),a=t=>!e.has(g.getObjectId(t))||s(g.getGeometry(t)),n=await this._runSpatialFilter(t,a,r);return new C(n,i,this)}),r);return p(a)}if(null!=s){const i=new t;x=x.filter((t=>e(s.items,t,s.items.length,i)>=0))}if(!x.length){const e=new C([],i,this);return d&&this._cache.put(d,e.items),e}if(this._canExecuteSinglePass(c,i))return p(new C(x,i,this));const _=await k(l,c,this.geometryType,this.hasZ,this.hasM),w=await this._runSpatialFilter(x,(e=>_(g.getGeometry(e))),r);return p(new C(w,i,this))}async _executeGeometryQueryForSnapping(e,t){const{query:i}=e,{spatialRel:s}=i;if(!e?.items?.length||!i.geometry||!s)return;const r=await k(s,i.geometry,this.geometryType,this.hasZ,this.hasM),a=await this._runSpatialFilter(e.items,(e=>r(e.geometry)),t);e.items=a}_executeAggregateIdsQuery(e){if(0===e.items.length||!e.query.aggregateIds?.length||null==this.aggregateAdapter)return;const t=new Set;for(const s of e.query.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(s).forEach((e=>t.add(e)))}const i=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(i(e))))}_executeObjectIdsQuery(e){if(0===e.items.length||!e.query.objectIds?.length)return;const t=new Set(e.query.objectIds),i=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(i(e))))}_executeTimeQuery(e){if(0===e.items.length)return;const t=B(this.timeInfo,e.query.timeExtent,this.featureAdapter);null!=t&&(e.items=e.items.filter(t))}_executeAttributesQuery(e){if(0===e.items.length)return;const t=I(e.query.where,this.fieldsIndex);if(t){if(!t.isStandardized)throw new TypeError(\"Where clause is not standardized\");e.items=e.items.filter((e=>t.testFeature(e,this.featureAdapter)))}}async _runSpatialFilter(e,t,i){if(!t)return e;if(null==this._frameTask)return e.filter((e=>t(e)));let s=0;const r=new Array,a=async n=>{for(;s<e.length;){const l=e[s++];t(l)&&(r.push(l),n.madeProgress()),n.done&&await this._reschedule((e=>a(e)),i)}};return this._reschedule((e=>a(e)),i).then((()=>r))}_filterLatest(e){const{trackIdField:t,startTimeField:i,endTimeField:s}=this.timeInfo,r=s||i,a=new Map,n=this.featureAdapter.getAttribute;for(const l of e.items){const e=n(l,t),i=n(l,r),s=a.get(e);(!s||i>n(s,r))&&a.set(e,l)}e.items=Array.from(a.values())}_getCacheKey(e){const{geometry:t,spatialRel:i,returnGeometry:s,returnCentroid:r,outSR:a,resultType:n,cacheHint:l}=e;if(\"tile\"!==n&&!l)return null;const u=s||r;return R(a)&&!S(this.spatialReference,a)&&u?JSON.stringify([t,i,a]):JSON.stringify([t,i])}_canExecuteSinglePass(e,t){const{spatialRel:i}=t;return U(e)&&(\"esriSpatialRelEnvelopeIntersects\"===i||\"esriGeometryPoint\"===this.geometryType&&(\"esriSpatialRelIntersects\"===i||\"esriSpatialRelContains\"===i))}async _project(e,t){if(!t||S(this.spatialReference,t))return e;const i=this.featureAdapter;let s;try{const e=await this._getFullExtent();s=h(this.spatialReference,t,e)}catch{}const r=await T(e.items.map((e=>E(this.geometryType,this.hasZ,this.hasM,i.getGeometry(e)))),this.spatialReference,t,s);return e.items=r.map(((t,s)=>i.cloneWithGeometry(e.items[s],Q(t,this.hasZ,this.hasM)))),e}async _searchFeatures(e){const t=new Set;await Promise.all(e.map((e=>this.featureStore.forEachInBounds(e,(e=>t.add(e))))));const i=Array.from(t.values());return t.clear(),i}async _executeQueryForStatistics(e,t,i){e=r(e);try{e=await this._schedule((()=>z(e,this.definitionExpression,this.spatialReference)),i),e=await this._reschedule((()=>q(e,t,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),i);const s=await this._reschedule((()=>this._executeSceneFilterQuery(e,i)),i),r=await this._reschedule((()=>this._executeGeometryQuery(e,s,i)),i);return await this._reschedule((()=>this._executeAggregateIdsQuery(r)),i),await this._reschedule((()=>this._executeObjectIdsQuery(r)),i),await this._reschedule((()=>this._executeTimeQuery(r)),i),await this._reschedule((()=>this._executeAttributesQuery(r)),i),r}catch(s){if(s!==O)throw s;return new C([],e,this)}}}function D(e){if(U(e)){if(_(e))return[y(Math.min(e.xmin,e.xmax),Math.min(e.ymin,e.ymax),Math.max(e.xmin,e.xmax),Math.max(e.ymin,e.ymax))];if(w(e))return e.rings.map((e=>y(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[g(p(),e)]}export{L as Feature,V as QueryEngine};\n"],"names":["t","supportsStatistics","supportsPercentileStatistics","supportsSpatialAggregationStatistics","supportedSpatialAggregationStatistics","envelope","centroid","convexHull","supportsCentroid","supportsCacheHint","supportsDistance","supportsDistinct","supportsExtent","supportsGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQuantization","supportsQuantizationEditMode","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsMaxRecordCountFactor","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsQueryByAnonymous","supportsQueryByOthers","supportsHistoricMoment","supportsFormatPBF","supportsDisjointSpatialRelationship","supportsDefaultSpatialReference","supportsFullTextSearch","supportsCompactGeometry","maxRecordCountFactor","maxRecordCount","standardMaxRecordCount","tileMaxRecordCount","$","g","x","e","n","r","l","i","s","a","Math","round","valid","scale","map","y","geometry","o","j","w","arguments","length","undefined","Float64Array","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","u","c","attributes","m","max","p","d","min","h","f","I","exec","hh","mm","ss","ms","groups","hours","minutes","seconds","async","b","field","field2","field3","fieldDelimiter","fieldInfos","timeZone","find","name","toLowerCase","valueExpression","normalizationType","normalizationField","normalizationTotal","F","N","viewInfoParams","E","v","arcadeUtils","hasGeometryOperations","enableGeometryOperations","createFunction","getViewInfo","viewingMode","spatialReference","U","M","declaredClass","fields","forEach","layer","createExecContext","executeFunction","Date","getTime","isFinite","parseFloat","push","constructor","this","_cache","_invalidCache","get","uid","create","fieldsIndex","put","getError","Set","expression","error","expressionName","validateStandardized","isStandardized","validateAggregate","isAggregate","fieldNames","query","getExpressions","every","aggregateType","some","onStatisticField","statisticType","trim","having","test","split","Map","includes","filter","T","set","type","allowedFieldTypes","size","errors","Array","from","values","has","fieldName","fieldType","fromJSON","_storage","_purgeInterval","_sweep","_timer","performance","now","time","setTimeout","delete","destroy","clear","clearTimeout","_scheduleSweep","items","id","_fieldDataCache","_returnDistinctMap","returnDistinctValues","featureAdapter","outFields","alias","clause","countDistinctValues","getAttributes","_processAttributesForOutFields","_processAttributesForDistinctValues","getFieldValue","getAttribute","calculateValue","getDataValues","getExpressionValues","geometryType","hasZ","hasM","getGeometry","validateItem","testFeature","validateItems","testSet","join","objectId","target","distance","start","end","draped","q","objectIdField","createQueryResponseForCount","outStatistics","groupByFieldsForStatistics","_getAttributeValues","_calculateUniqueValues","data","add","createQueryResponse","_createExceedsLimitQueryResponse","_createStatisticsQueryResponse","_createFeatureQueryResponse","returnQueryGeometry","outSR","queryGeometry","createSnappingResponse","C","point","mode","candidates","_getPointCreator","G","z","coords","lengths","returnEdge","coordsIndex","getObjectId","sqrt","vertexMode","sort","_ref","_ref2","_ref3","createSummaryStatisticsResponse","minValue","maxValue","outStatisticTypes","_getDataValues","value","_","V","supportsNullCount","percentileParams","useSampleStdDev","S","createUniqueValuesResponse","domains","returnAllCodedValues","createClassBreaksResponse","classificationMethod","standardDeviationInterval","numClasses","R","createHistogramResponse","numBins","A","_sortFeatures","reverse","quantizationParameters","resultRecordCount","resultOffset","returnZ","returnM","exceededTransferLimit","features","_createFeatures","objectIdFieldName","transform","orderByFields","returnGeometry","returnCentroid","maxAllowableOffset","getCentroid","slice","maxPointCount","maxVertexCount","reduce","sqlType","domain","defaultValue","exceedslimit","outStatisticFieldName","Object","keys","count","itemPositions","aggregateGeometries","_getAggregateGeometry","_getPercentileValue","_getStatisticValue","_isAnyDateField","union","returnDistinct","statisticParameters","orderBy","isDiscrete","availableFields","geometryPrecision","multipatchOption","pixelSize","relationParam","text","Boolean","definition","Promise","all","then","where","extractFieldNames","params","_changeHandle","capabilities","definitionExpression","featureStore","aggregateAdapter","events","on","clearCache","timeInfo","H","scheduler","priority","_frameTask","registerTask","_allFeaturesPromise","_timeExtentPromise","_fullExtentPromise","executeQuery","_executeQuery","O","executeQueryForCount","executeQueryForExtent","extent","_getBounds","executeQueryForIds","executeQueryForIdSet","_reschedule","executeQueryForSnapping","_schedule","P","xmin","xmax","ymin","ymax","signal","_searchFeatures","D","toJSON","_executeObjectIdsQuery","_executeTimeQuery","_executeAttributesQuery","_executeGeometryQueryForSnapping","executeQueryForLatestObservations","trackIdField","_filterLatest","executeQueryForSummaryStatistics","_executeQueryForStatistics","executeQueryForUniqueValues","executeQueryForClassBreaks","executeQueryForHistogram","fetchRecomputedExtents","Z","_getFullExtent","fullExtent","timeExtent","forEachBounds","zmin","zmax","getFullExtent","resolve","_getAllFeatures","schedule","J","reschedule","_getAllFeaturesQueryEngineResult","_executeSceneFilterQuery","_executeGeometryQuery","_executeAggregateIdsQuery","sceneFilter","featureSpatialReference","_project","spatialRelationship","k","_runSpatialFilter","_canExecuteSinglePass","spatialRel","_getCacheKey","aggregateIds","getFeatureObjectIds","objectIds","B","TypeError","madeProgress","done","startTimeField","endTimeField","resultType","cacheHint","JSON","stringify","cloneWithGeometry","Q","forEachInBounds","rings"],"sourceRoot":""}